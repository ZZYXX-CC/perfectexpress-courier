module.exports=[86855,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(91119),e=a.i(86304),f=a.i(99570),g=a.i(6015),h=a.i(69876),i=a.i(45903),j=a.i(38246),k=a.i(83497),l=a.i(10227),m=a.i(16201),n=a.i(41710),o=a.i(15618),p=a.i(77156),q=a.i(24987),r=a.i(70106);let s=(0,r.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var t=a.i(90166);let u=(0,r.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var v=a.i(46842),w=a.i(92258),x=a.i(85264),y=a.i(14574),z=a.i(39941);function A({user:a,profile:r,shipments:A}){let[B,C]=(0,c.useState)(A),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(null),H=(0,c.useCallback)(b=>{b.user_id===a.id&&C(a=>[b,...a])},[a.id]),I=(0,c.useCallback)(a=>{C(b=>b.map(b=>b.id===a.id?a:b)),F?.id===a.id&&G(a)},[F?.id]);(0,z.useRealtimeShipments)({onInsert:H,onUpdate:I,showToasts:!0,filter:{column:"user_id",value:a.id}});let J=(0,c.useMemo)(()=>({total:B.length,delivered:B.filter(a=>"delivered"===a.status).length,active:B.filter(a=>["in-transit","out-for-delivery","pending","accepted"].includes(a.status||"")).length}),[B]),K=a=>{switch(a){case"delivered":return"border-green-500 text-green-600 bg-green-50";case"in-transit":return"border-blue-500 text-blue-600 bg-blue-50";case"out-for-delivery":return"border-yellow-500 text-yellow-600 bg-yellow-50";case"held":return"border-red-500 text-red-600 bg-red-50";case"accepted":return"border-purple-500 text-purple-600 bg-purple-50";default:return"border-slate-500 text-slate-600 bg-slate-50"}};return(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)(i.default,{}),(0,b.jsxs)("main",{className:"container mx-auto px-4 pt-32 pb-20",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-8 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold text-secondary",children:["Welcome, ",r?.full_name||a.email]}),(0,b.jsxs)("span",{className:"flex items-center gap-1.5 px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:[(0,b.jsx)(x.Wifi,{size:12,className:"animate-pulse"}),"Live"]})]}),(0,b.jsx)("p",{className:"text-slate-500",children:"Manage and track your shipments"})]}),(0,b.jsx)(j.default,{href:"/ship",children:(0,b.jsxs)(f.Button,{className:"bg-primary hover:bg-primary/90 text-white rounded-full shadow-lg shadow-primary/20",children:[(0,b.jsx)(o.Plus,{className:"mr-2 h-4 w-4"}),"New Shipment"]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[(0,b.jsxs)(d.Card,{className:"glass border-0 shadow-lg",children:[(0,b.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium text-slate-500",children:"Total Shipments"}),(0,b.jsx)(k.Package,{className:"h-4 w-4 text-slate-400"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"text-2xl font-bold text-secondary",children:J.total})})]}),(0,b.jsxs)(d.Card,{className:"glass border-0 shadow-lg",children:[(0,b.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium text-slate-500",children:"Active"}),(0,b.jsx)(l.Truck,{className:"h-4 w-4 text-primary"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"text-2xl font-bold text-primary",children:J.active})})]}),(0,b.jsxs)(d.Card,{className:"glass border-0 shadow-lg",children:[(0,b.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium text-slate-500",children:"Delivered"}),(0,b.jsx)(m.CheckCircle,{className:"h-4 w-4 text-green-500"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"text-2xl font-bold text-green-500",children:J.delivered})})]})]}),(0,b.jsxs)(d.Card,{className:"glass border-0 shadow-lg overflow-hidden",children:[(0,b.jsxs)(d.CardHeader,{className:"border-b border-slate-100 bg-slate-50/30",children:[(0,b.jsx)(d.CardTitle,{className:"text-secondary",children:"Your Shipments"}),(0,b.jsx)(d.CardDescription,{className:"text-slate-500",children:0===B.length?"No shipments yet":`${B.length} shipment(s)`})]}),(0,b.jsx)(d.CardContent,{className:"p-0",children:0===B.length?(0,b.jsxs)("div",{className:"py-20 text-center",children:[(0,b.jsx)(k.Package,{className:"h-12 w-12 mx-auto text-slate-300 mb-4"}),(0,b.jsx)("p",{className:"text-slate-500 mb-4",children:"You haven't created any shipments yet"}),(0,b.jsx)(j.default,{href:"/ship",children:(0,b.jsx)(f.Button,{children:"Create Your First Shipment"})})]}):(0,b.jsxs)(h.ScrollArea,{className:"h-[400px]",children:[(0,b.jsx)("div",{className:"lg:hidden space-y-4 p-4",children:B.map(a=>(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-slate-100 p-4 shadow-sm hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Tracking Number"}),(0,b.jsx)("button",{onClick:()=>{G(a),E(!0)},className:"font-mono font-bold text-primary hover:underline text-sm",children:a.tracking_number})]}),(0,b.jsx)(e.Badge,{variant:"outline",className:`uppercase font-medium text-xs ${K(a.status)}`,children:a.status})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Recipient"}),(0,b.jsx)("p",{className:"text-sm font-medium text-secondary truncate",children:a.receiver_info?.name||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Date"}),(0,b.jsx)("p",{className:"text-sm font-medium text-secondary",children:a.created_at?new Date(a.created_at).toLocaleDateString():"N/A"})]})]}),(0,b.jsx)("div",{className:"pt-3 border-t border-slate-50 flex justify-end",children:(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",className:"w-full sm:w-auto",onClick:()=>{G(a),E(!0)},children:[(0,b.jsx)(p.Eye,{size:14,className:"mr-2"}),"View Details"]})})]},a.id))}),(0,b.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,b.jsxs)(g.Table,{children:[(0,b.jsx)(g.TableHeader,{className:"bg-slate-50",children:(0,b.jsxs)(g.TableRow,{className:"border-slate-100",children:[(0,b.jsx)(g.TableHead,{className:"text-slate-500 font-semibold min-w-[120px]",children:"Tracking ID"}),(0,b.jsx)(g.TableHead,{className:"text-slate-500 font-semibold min-w-[150px]",children:"Recipient"}),(0,b.jsx)(g.TableHead,{className:"text-slate-500 font-semibold min-w-[120px]",children:"Status"}),(0,b.jsx)(g.TableHead,{className:"text-slate-500 font-semibold min-w-[120px]",children:"Date"}),(0,b.jsx)(g.TableHead,{className:"text-right text-slate-500 font-semibold min-w-[100px]",children:"Action"})]})}),(0,b.jsx)(g.TableBody,{children:B.map(a=>(0,b.jsxs)(g.TableRow,{className:"border-slate-100 hover:bg-slate-50/50",children:[(0,b.jsx)(g.TableCell,{children:(0,b.jsx)("button",{onClick:()=>{G(a),E(!0)},className:"font-mono font-bold text-primary hover:underline whitespace-nowrap",children:a.tracking_number})}),(0,b.jsx)(g.TableCell,{className:"text-secondary whitespace-nowrap",children:a.receiver_info?.name||"N/A"}),(0,b.jsx)(g.TableCell,{children:(0,b.jsx)(e.Badge,{variant:"outline",className:`uppercase font-medium whitespace-nowrap ${K(a.status)}`,children:a.status})}),(0,b.jsx)(g.TableCell,{className:"text-slate-500 whitespace-nowrap",children:a.created_at?new Date(a.created_at).toLocaleDateString():"N/A"}),(0,b.jsx)(g.TableCell,{className:"text-right",children:(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",className:"border-slate-200",onClick:()=>{G(a),E(!0)},children:[(0,b.jsx)(p.Eye,{size:14,className:"mr-1"}),"Details"]})})]},a.id))})]})})]})})]}),(0,b.jsx)(y.Dialog,{open:D,onOpenChange:E,children:(0,b.jsxs)(y.DialogContent,{className:"glass border-0 shadow-2xl max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(y.DialogHeader,{children:[(0,b.jsxs)(y.DialogTitle,{className:"text-secondary flex items-center gap-2",children:[(0,b.jsx)(k.Package,{className:"h-5 w-5"}),"Shipment Details"]}),(0,b.jsxs)(y.DialogDescription,{className:"text-slate-500",children:["Tracking ID: ",(0,b.jsx)("span",{className:"font-mono font-bold text-primary",children:F?.tracking_number})]})]}),F&&(0,b.jsxs)("div",{className:"space-y-6 py-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100",children:[(0,b.jsxs)("p",{className:"text-xs text-slate-500 mb-1 flex items-center gap-1",children:[(0,b.jsx)(n.Clock,{size:12})," Status"]}),(0,b.jsx)(e.Badge,{className:`${K(F.status)}`,children:F.status})]}),(0,b.jsxs)("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100",children:[(0,b.jsxs)("p",{className:"text-xs text-slate-500 mb-1 flex items-center gap-1",children:[(0,b.jsx)(s,{size:12})," Created"]}),(0,b.jsx)("p",{className:"font-medium text-secondary text-sm",children:new Date(F.created_at).toLocaleString()})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100",children:[(0,b.jsxs)("p",{className:"text-xs text-slate-500 mb-1 flex items-center gap-1",children:[(0,b.jsx)(t.DollarSign,{size:12})," Price"]}),(0,b.jsx)("p",{className:"font-bold text-lg text-secondary",children:F.price?`$${F.price.toFixed(2)}`:"Pending Quote"})]}),(0,b.jsxs)("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100",children:[(0,b.jsxs)("p",{className:"text-xs text-slate-500 mb-1 flex items-center gap-1",children:[(0,b.jsx)(u,{size:12})," Payment"]}),(0,b.jsx)(e.Badge,{variant:"paid"===F.payment_status?"default":"secondary",className:"paid"===F.payment_status?"bg-green-500 hover:bg-green-600":"",children:F.payment_status||"Unpaid"})]})]}),F.current_location&&(0,b.jsxs)("div",{className:"bg-blue-50/50 p-4 rounded-xl border border-blue-100",children:[(0,b.jsxs)("p",{className:"text-xs text-blue-500 font-semibold mb-2 flex items-center gap-1",children:[(0,b.jsx)(q.MapPin,{size:14})," Current Location"]}),(0,b.jsx)("p",{className:"text-secondary font-medium",children:F.current_location})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("h4",{className:"text-sm font-semibold text-slate-900 border-b pb-2 flex items-center gap-2",children:[(0,b.jsx)(v.User,{size:14,className:"text-slate-400"})," Sender"]}),(0,b.jsxs)("div",{className:"text-sm space-y-1",children:[(0,b.jsx)("p",{className:"font-medium text-secondary",children:F.sender_info?.name}),(0,b.jsx)("p",{className:"text-slate-500",children:F.sender_info?.address}),(0,b.jsx)("p",{className:"text-slate-500 text-xs",children:F.sender_info?.phone}),(0,b.jsxs)("p",{className:"text-slate-500 text-xs flex items-center gap-1",children:[(0,b.jsx)(w.Mail,{size:10})," ",F.sender_info?.email]})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("h4",{className:"text-sm font-semibold text-slate-900 border-b pb-2 flex items-center gap-2",children:[(0,b.jsx)(v.User,{size:14,className:"text-slate-400"})," Receiver"]}),(0,b.jsxs)("div",{className:"text-sm space-y-1",children:[(0,b.jsx)("p",{className:"font-medium text-secondary",children:F.receiver_info?.name}),(0,b.jsx)("p",{className:"text-slate-500",children:F.receiver_info?.address}),(0,b.jsx)("p",{className:"text-slate-500 text-xs",children:F.receiver_info?.phone}),(0,b.jsxs)("p",{className:"text-slate-500 text-xs flex items-center gap-1",children:[(0,b.jsx)(w.Mail,{size:10})," ",F.receiver_info?.email]})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-100",children:[(0,b.jsxs)("h4",{className:"text-sm font-semibold text-secondary mb-3 flex items-center gap-2",children:[(0,b.jsx)(k.Package,{size:14})," Parcel Information"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 text-sm gap-y-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Content:"})," ",(0,b.jsx)("span",{className:"text-secondary font-medium",children:F.parcel_details?.description})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Weight:"})," ",(0,b.jsxs)("span",{className:"text-secondary font-medium",children:[F.parcel_details?.weight," kg"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Dimensions:"})," ",(0,b.jsxs)("span",{className:"text-secondary font-medium",children:[F.parcel_details?.dimensions.length,"x",F.parcel_details?.dimensions.width,"x",F.parcel_details?.dimensions.height," cm"]})]})]})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2 pt-4 border-t",children:(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",onClick:()=>window.open(`/track/${F.tracking_number}`,"_blank"),children:[(0,b.jsx)(p.Eye,{size:14,className:"mr-1"})," View Tracking Page"]})})]})]})})]})]})}a.s(["default",()=>A],86855)}];

//# sourceMappingURL=src_app_dashboard_DashboardClient_tsx_523acb4a._.js.map