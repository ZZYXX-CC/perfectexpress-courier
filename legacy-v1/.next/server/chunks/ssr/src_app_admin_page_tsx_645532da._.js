module.exports=[10179,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(5050);let e=(0,d.createServerReference)("40f774832d930e6fd97dcc43c7a3b100de39254f6f",d.callServer,void 0,d.findSourceMapURL,"getAllShipments"),f=(0,d.createServerReference)("700b4acd3fed7b1790c2e227d5433578c2c24fced0",d.callServer,void 0,d.findSourceMapURL,"logShipmentEvent"),g=(0,d.createServerReference)("60b70e5d345c1c55c9d51722a54eb4d029e2319f13",d.callServer,void 0,d.findSourceMapURL,"updateShipment"),h=(0,d.createServerReference)("40fd6e93b39dd985ae1380e80e499a16e9295b960a",d.callServer,void 0,d.findSourceMapURL,"deleteShipment"),i=(0,d.createServerReference)("4051a4397eb60e9ba5a9a49de7c6c95252495f2856",d.callServer,void 0,d.findSourceMapURL,"getAllUsers"),j=(0,d.createServerReference)("60b3c0ea9a339b5dc43eee9dcc5f415c9bd8e467ec",d.callServer,void 0,d.findSourceMapURL,"updateUserRole"),k=(0,d.createServerReference)("4092472c94f9fd42775606cd47ff12f60047ee17bb",d.callServer,void 0,d.findSourceMapURL,"createUser");var l=a.i(44310),m=a.i(39941),n=a.i(99570),o=a.i(66718),p=a.i(70430),q=a.i(91119),r=a.i(86304),s=a.i(6015),t=a.i(14574),u=a.i(23292),v=a.i(45903),w=a.i(87532),x=a.i(69520),y=a.i(90166),z=a.i(24987),A=a.i(15618),B=a.i(70106);let C=(0,B.default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),D=(0,B.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);var E=a.i(96221),F=a.i(83497),G=a.i(10227),H=a.i(16201),I=a.i(46842),J=a.i(92258),K=a.i(77156);let L=(0,B.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var M=a.i(85264),N=a.i(73954);let O=["pending","quoted","confirmed","in-transit","out-for-delivery","delivered","held","cancelled"];function P(){let[a,d]=(0,c.useState)([]),[B,P]=(0,c.useState)(""),[Q,R]=(0,c.useTransition)(),[S,T]=(0,c.useState)(!0),[U,V]=(0,c.useState)(null),[W,X]=(0,c.useState)(!1),[Y,Z]=(0,c.useState)("in-transit"),[$,_]=(0,c.useState)(""),[aa,ab]=(0,c.useState)(""),[ac,ad]=(0,c.useState)(""),[ae,af]=(0,c.useState)(!1),[ag,ah]=(0,c.useState)(!1),[ai,aj]=(0,c.useState)({sender_name:"",sender_email:"",sender_address:"",receiver_name:"",receiver_email:"",receiver_address:"",parcel_description:"",parcel_weight:""}),[ak,al]=(0,c.useState)(!1),[am,an]=(0,c.useState)(""),[ao,ap]=(0,c.useState)(!1),[aq,ar]=(0,c.useState)(""),[as,at]=(0,c.useState)(null),[au,av]=(0,c.useState)(!1),[aw,ax]=(0,c.useState)("Lagos Logistics Center"),[ay,az]=(0,c.useState)(!1),[aA,aB]=(0,c.useState)(!1),[aC,aD]=(0,c.useState)(null),[aE,aF]=(0,c.useState)(!1),[aG,aH]=(0,c.useState)({}),[aI,aJ]=(0,c.useState)("shipments"),[aK,aL]=(0,c.useState)([]),[aM,aN]=(0,c.useState)(!1),[aO,aP]=(0,c.useState)({email:"",password:"",fullName:"",role:"user"}),aQ=async()=>{T(!0),d(await e()),T(!1)},aR=async()=>{T(!0),aL(await i()),T(!1)};(0,c.useEffect)(()=>{aQ(),aR()},[]);let aS=(0,c.useCallback)(a=>{d(b=>[a,...b])},[]),aT=(0,c.useCallback)(a=>{d(b=>b.map(b=>b.id===a.id?a:b))},[]),aU=(0,c.useCallback)(a=>{d(b=>b.filter(b=>b.id!==a.id))},[]);(0,m.useRealtimeShipments)({onInsert:aS,onUpdate:aT,onDelete:aU,showToasts:!0});let aV=(a,b)=>{R(async()=>{let c=await j(a,b);c.error?u.toast.error(c.error):(u.toast.success("User role updated"),aR())})},aW=a.filter(a=>a.tracking_number?.toLowerCase().includes(B.toLowerCase())||a.receiver_info?.name?.toLowerCase().includes(B.toLowerCase())||a.sender_info?.name?.toLowerCase().includes(B.toLowerCase())),aX={total:a.length,delivered:a.filter(a=>"delivered"===a.status).length,active:a.filter(a=>["pending","quoted","confirmed","in-transit","out-for-delivery"].includes(a.status||"")).length,paid:a.filter(a=>"paid"===a.payment_status).length},aY=a=>{switch(a){case"pending":default:return"border-slate-500 text-slate-600 bg-slate-50";case"quoted":return"border-orange-500 text-orange-600 bg-orange-50";case"confirmed":return"border-purple-500 text-purple-600 bg-purple-50";case"in-transit":return"border-blue-500 text-blue-600 bg-blue-50";case"out-for-delivery":return"border-yellow-500 text-yellow-600 bg-yellow-50";case"delivered":return"border-green-500 text-green-600 bg-green-50";case"held":return"border-red-500 text-red-600 bg-red-50";case"cancelled":return"border-gray-500 text-gray-600 bg-gray-50"}};return(0,b.jsxs)("div",{className:"min-h-screen bg-background text-foreground relative",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-primary/5 rounded-full blur-3xl opacity-30 pointer-events-none"}),(0,b.jsx)(v.default,{}),(0,b.jsxs)("main",{className:"container mx-auto px-4 pt-32 pb-20",children:[(0,b.jsx)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-8 gap-4",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-secondary",children:"Admin Dashboard"}),(0,b.jsxs)("span",{className:"flex items-center gap-1.5 px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:[(0,b.jsx)(M.Wifi,{size:12,className:"animate-pulse"}),"Live"]})]}),(0,b.jsx)("p",{className:"text-slate-500",children:"Manage deliveries, update statuses, and track shipments."})]})}),(0,b.jsx)(N.default,{activeTab:aI,onTabChange:aJ}),"shipments"===aI?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex justify-end gap-2 mb-6",children:[(0,b.jsxs)(n.Button,{variant:"outline",onClick:aQ,disabled:S,children:[(0,b.jsx)(x.RefreshCw,{className:`mr-2 h-4 w-4 ${S?"animate-spin":""}`}),"Refresh"]}),(0,b.jsxs)(t.Dialog,{open:ag,onOpenChange:ah,children:[(0,b.jsx)(t.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(n.Button,{className:"bg-primary hover:bg-primary/90 text-white rounded-full shadow-lg shadow-primary/20",children:[(0,b.jsx)(A.Plus,{className:"mr-2 h-4 w-4"}),"New Shipment"]})}),(0,b.jsxs)(t.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(t.DialogHeader,{children:[(0,b.jsxs)(t.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(F.Package,{className:"text-primary"}),"Create New Shipment"]}),(0,b.jsx)(t.DialogDescription,{children:"Fill in the details below to create a new shipment."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h3",{className:"font-semibold border-b pb-2",children:"Sender"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Label,{children:"Name"}),(0,b.jsx)(o.Input,{value:ai.sender_name,onChange:a=>aj(b=>({...b,sender_name:a.target.value})),placeholder:"Sender Name"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Label,{children:"Email"}),(0,b.jsx)(o.Input,{value:ai.sender_email,onChange:a=>aj(b=>({...b,sender_email:a.target.value})),placeholder:"Sender Email",type:"email"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Label,{children:"Address"}),(0,b.jsx)(o.Input,{value:ai.sender_address,onChange:a=>aj(b=>({...b,sender_address:a.target.value})),placeholder:"Sender Address"})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h3",{className:"font-semibold border-b pb-2",children:"Receiver"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Label,{children:"Name"}),(0,b.jsx)(o.Input,{value:ai.receiver_name,onChange:a=>aj(b=>({...b,receiver_name:a.target.value})),placeholder:"Receiver Name"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Label,{children:"Email"}),(0,b.jsx)(o.Input,{value:ai.receiver_email,onChange:a=>aj(b=>({...b,receiver_email:a.target.value})),placeholder:"Receiver Email",type:"email"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Label,{children:"Address"}),(0,b.jsx)(o.Input,{value:ai.receiver_address,onChange:a=>aj(b=>({...b,receiver_address:a.target.value})),placeholder:"Receiver Address"})]})]}),(0,b.jsxs)("div",{className:"md:col-span-2 space-y-3",children:[(0,b.jsx)("h3",{className:"font-semibold border-b pb-2",children:"Parcel"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Label,{children:"Weight (kg)"}),(0,b.jsx)(o.Input,{value:ai.parcel_weight,onChange:a=>aj(b=>({...b,parcel_weight:a.target.value})),placeholder:"e.g. 2.5"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Label,{children:"Description"}),(0,b.jsx)(o.Input,{value:ai.parcel_description,onChange:a=>aj(b=>({...b,parcel_description:a.target.value})),placeholder:"e.g. Electronics"})]})]})]})]}),(0,b.jsxs)(t.DialogFooter,{children:[(0,b.jsx)(t.DialogClose,{asChild:!0,children:(0,b.jsx)(n.Button,{variant:"outline",children:"Cancel"})}),(0,b.jsxs)(n.Button,{onClick:()=>{R(async()=>{let a=await (0,l.createShipment)(ai);a.error?u.toast.error(a.error):(u.toast.success(`Shipment created! ID: ${a.tracking_number}`),ah(!1),aj({sender_name:"",sender_email:"",sender_address:"",receiver_name:"",receiver_email:"",receiver_address:"",parcel_description:"",parcel_weight:""}),aQ())})},disabled:Q,children:[Q?(0,b.jsx)(E.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):(0,b.jsx)(A.Plus,{className:"mr-2 h-4 w-4"}),"Create"]})]})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,b.jsxs)(q.Card,{className:"glass border-0 shadow-lg",children:[(0,b.jsxs)(q.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(q.CardTitle,{className:"text-sm font-medium text-slate-500",children:"Total Shipments"}),(0,b.jsx)(F.Package,{className:"h-4 w-4 text-slate-400"})]}),(0,b.jsx)(q.CardContent,{children:(0,b.jsx)("div",{className:"text-2xl font-bold text-secondary",children:aX.total})})]}),(0,b.jsxs)(q.Card,{className:"glass border-0 shadow-lg",children:[(0,b.jsxs)(q.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(q.CardTitle,{className:"text-sm font-medium text-slate-500",children:"Active Deliveries"}),(0,b.jsx)(G.Truck,{className:"h-4 w-4 text-primary"})]}),(0,b.jsx)(q.CardContent,{children:(0,b.jsx)("div",{className:"text-2xl font-bold text-primary",children:aX.active})})]}),(0,b.jsxs)(q.Card,{className:"glass border-0 shadow-lg",children:[(0,b.jsxs)(q.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(q.CardTitle,{className:"text-sm font-medium text-slate-500",children:"Delivered"}),(0,b.jsx)(H.CheckCircle,{className:"h-4 w-4 text-green-500"})]}),(0,b.jsx)(q.CardContent,{children:(0,b.jsx)("div",{className:"text-2xl font-bold text-green-500",children:aX.delivered})})]}),(0,b.jsxs)(q.Card,{className:"glass border-0 shadow-lg",children:[(0,b.jsxs)(q.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(q.CardTitle,{className:"text-sm font-medium text-slate-500",children:"Paid Orders"}),(0,b.jsx)(y.DollarSign,{className:"h-4 w-4 text-slate-400"})]}),(0,b.jsx)(q.CardContent,{children:(0,b.jsx)("div",{className:"text-2xl font-bold text-secondary",children:aX.paid})})]})]}),(0,b.jsxs)(q.Card,{className:"glass border-0 shadow-lg overflow-hidden",children:[(0,b.jsx)(q.CardHeader,{className:"border-b border-slate-100 bg-slate-50/30",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(q.CardTitle,{className:"text-secondary",children:"All Shipments"}),(0,b.jsxs)(q.CardDescription,{className:"text-slate-500",children:[aW.length," shipments found"]})]}),(0,b.jsxs)("div",{className:"relative w-full sm:w-auto",children:[(0,b.jsx)(w.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,b.jsx)(o.Input,{placeholder:"Search by ID, sender, or receiver...",className:"pl-9 w-full sm:w-[300px] bg-white border-slate-200",value:B,onChange:a=>P(a.target.value)})]})]})}),(0,b.jsx)(q.CardContent,{className:"p-0",children:(0,b.jsx)("div",{className:"overflow-auto max-h-[500px]",children:(0,b.jsxs)("table",{className:"w-full min-w-[1000px] border-collapse",children:[(0,b.jsx)("thead",{className:"bg-slate-50 sticky top-0 z-10",children:(0,b.jsxs)("tr",{className:"border-b border-slate-100",children:[(0,b.jsx)("th",{className:"text-left text-slate-500 font-semibold px-4 py-3 min-w-[130px]",children:"Tracking ID"}),(0,b.jsx)("th",{className:"text-left text-slate-500 font-semibold px-4 py-3 min-w-[180px]",children:"Sender / Receiver"}),(0,b.jsx)("th",{className:"text-left text-slate-500 font-semibold px-4 py-3 min-w-[130px]",children:"Status"}),(0,b.jsx)("th",{className:"text-left text-slate-500 font-semibold px-4 py-3 min-w-[100px]",children:"Payment"}),(0,b.jsx)("th",{className:"text-left text-slate-500 font-semibold px-4 py-3 min-w-[160px]",children:"Location"}),(0,b.jsx)("th",{className:"text-left text-slate-500 font-semibold px-4 py-3 min-w-[110px]",children:"Created"}),(0,b.jsx)("th",{className:"text-right text-slate-500 font-semibold px-4 py-3 min-w-[130px]",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:S?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:7,className:"text-center py-20",children:(0,b.jsx)(E.Loader2,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"})})}):0===aW.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:7,className:"text-center py-20 text-muted-foreground",children:"No shipments found."})}):aW.map(a=>(0,b.jsxs)("tr",{className:"border-b border-slate-100 hover:bg-slate-50/50 transition-colors cursor-pointer",onClick:()=>{aD(a),aB(!0)},children:[(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsx)("span",{className:"font-mono font-bold text-primary hover:underline",children:a.tracking_number})}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("p",{className:"font-medium text-secondary",children:a.sender_info?.name||"N/A"}),(0,b.jsxs)("p",{className:"text-slate-500",children:["→ ",a.receiver_info?.name||"N/A"]})]})}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsx)(r.Badge,{variant:"outline",className:`uppercase font-medium ${aY(a.status)}`,children:a.status})}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsxs)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${"paid"===a.payment_status?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:[(0,b.jsx)(y.DollarSign,{size:12,className:"mr-1"}),a.payment_status]})}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(z.MapPin,{size:14,className:"text-slate-400"}),(0,b.jsx)("span",{className:"text-sm text-slate-500 truncate max-w-[140px]",children:a.current_location||"—"})]})}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-slate-500",children:a.created_at?new Date(a.created_at).toLocaleDateString():"N/A"}),(0,b.jsx)("td",{className:"px-4 py-3 text-right",onClick:a=>a.stopPropagation(),children:"pending"!==a.status||a.price?"quoted"===a.status?(0,b.jsxs)(n.Button,{size:"sm",variant:"outline",className:"border-green-600 text-green-700 hover:bg-green-50 w-full",onClick:()=>{V(a),az(!0)},children:[(0,b.jsx)(y.DollarSign,{size:14,className:"mr-1"}),"Confirm Payment"]}):"confirmed"===a.status?(0,b.jsxs)(n.Button,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white w-full",onClick:()=>{V(a),av(!0)},children:[(0,b.jsx)(G.Truck,{size:14,className:"mr-1"}),"Dispatch"]}):"in-transit"===a.status||"out-for-delivery"===a.status?(0,b.jsxs)(n.Button,{size:"sm",variant:"outline",className:"w-full",onClick:()=>{V(a),Z(a.status||"in-transit"),_(a.current_location||""),ad(""),X(!0)},children:[(0,b.jsx)(C,{size:14,className:"mr-1"}),"Update Status"]}):"held"===a.status?(0,b.jsxs)(n.Button,{size:"sm",variant:"outline",className:"border-red-500 text-red-600 hover:bg-red-50 w-full",onClick:()=>{V(a),Z("in-transit"),_(a.current_location||""),X(!0)},children:[(0,b.jsx)(C,{size:14,className:"mr-1"}),"Release / Update"]}):"delivered"===a.status?(0,b.jsxs)(r.Badge,{className:"bg-green-100 text-green-700 border-0",children:[(0,b.jsx)(H.CheckCircle,{size:14,className:"mr-1"}),"Completed"]}):"cancelled"===a.status?(0,b.jsx)(r.Badge,{className:"bg-gray-100 text-gray-600 border-0",children:"Cancelled"}):(0,b.jsx)(n.Button,{size:"sm",variant:"ghost",className:"w-full text-slate-500",onClick:()=>{V(a),Z(a.status||"pending"),_(a.current_location||""),X(!0)},children:"View / Edit"}):(0,b.jsx)(n.Button,{size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white w-full",onClick:()=>{at(a.id),ap(!0)},children:"Review & Quote"})})]},a.id))})]})})})]})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center bg-white p-4 rounded-lg shadow-sm border border-slate-100",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-bold text-secondary",children:"User Accounts"}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Manage admins and standard users"})]}),(0,b.jsxs)(n.Button,{className:"bg-primary hover:bg-primary/90 text-white",onClick:()=>aN(!0),children:[(0,b.jsx)(A.Plus,{className:"mr-2 h-4 w-4"}),"Create Account"]})]}),(0,b.jsx)(q.Card,{className:"glass border-0 shadow-lg overflow-hidden",children:(0,b.jsx)(q.CardContent,{className:"p-0",children:(0,b.jsxs)(s.Table,{children:[(0,b.jsx)(s.TableHeader,{className:"bg-slate-50",children:(0,b.jsxs)(s.TableRow,{className:"border-slate-100",children:[(0,b.jsx)(s.TableHead,{className:"text-slate-500 font-semibold",children:"User"}),(0,b.jsx)(s.TableHead,{className:"text-slate-500 font-semibold",children:"Email"}),(0,b.jsx)(s.TableHead,{className:"text-slate-500 font-semibold",children:"Role"}),(0,b.jsx)(s.TableHead,{className:"text-slate-500 font-semibold",children:"Joined"}),(0,b.jsx)(s.TableHead,{className:"text-right text-slate-500 font-semibold",children:"Actions"})]})}),(0,b.jsxs)(s.TableBody,{children:[aK.map(a=>(0,b.jsxs)(s.TableRow,{className:"border-slate-100",children:[(0,b.jsx)(s.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"h-8 w-8 rounded-full bg-slate-100 flex items-center justify-center text-slate-500 font-bold",children:a.full_name?.charAt(0)||"U"}),(0,b.jsx)("span",{className:"font-medium text-secondary",children:a.full_name||"N/A"})]})}),(0,b.jsx)(s.TableCell,{className:"text-slate-500",children:a.email}),(0,b.jsx)(s.TableCell,{children:(0,b.jsx)(r.Badge,{variant:"admin"===a.role?"default":"secondary",className:"admin"===a.role?"bg-purple-100 text-purple-700 hover:bg-purple-200":"bg-slate-100 text-slate-600",children:a.role})}),(0,b.jsx)(s.TableCell,{className:"text-slate-500 text-sm",children:new Date(a.created_at).toLocaleDateString()}),(0,b.jsx)(s.TableCell,{className:"text-right",children:"admin"===a.role?(0,b.jsx)(n.Button,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>aV(a.id,"user"),children:"Revoke Admin"}):(0,b.jsx)(n.Button,{variant:"ghost",size:"sm",className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",onClick:()=>aV(a.id,"admin"),children:"Make Admin"})})]},a.id)),0===aK.length&&(0,b.jsx)(s.TableRow,{children:(0,b.jsx)(s.TableCell,{colSpan:5,className:"text-center py-10 text-slate-400",children:"No users found"})})]})]})})})]}),(0,b.jsx)(t.Dialog,{open:W,onOpenChange:X,children:(0,b.jsxs)(t.DialogContent,{className:"glass border-0 shadow-2xl",children:[(0,b.jsxs)(t.DialogHeader,{children:[(0,b.jsx)(t.DialogTitle,{className:"text-secondary",children:"Log Shipment Event"}),(0,b.jsxs)(t.DialogDescription,{className:"text-slate-300",children:["Record a new status update for shipment ",U?.tracking_number]})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Label,{className:"text-white font-medium",children:"Status"}),(0,b.jsx)("select",{className:"w-full h-10 rounded-md border border-slate-200 bg-white text-slate-800 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:Y,onChange:a=>Z(a.target.value),children:O.map(a=>(0,b.jsx)("option",{value:a,children:a},a))})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Label,{className:"text-white font-medium",children:"Location"}),(0,b.jsx)(o.Input,{placeholder:"e.g. Lagos Distribution Center",value:$,onChange:a=>_(a.target.value),className:"bg-white text-slate-800 placeholder:text-slate-400"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Label,{className:"text-white font-medium",children:"Note (Optional)"}),(0,b.jsx)(o.Input,{placeholder:"Add any relevant notes...",value:aa,onChange:a=>ab(a.target.value),className:"bg-white text-slate-800 placeholder:text-slate-400"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Label,{className:"text-white font-medium",children:"Map Link (Optional)"}),(0,b.jsx)(o.Input,{placeholder:"Paste Google Maps or location URL...",value:ac,onChange:a=>ad(a.target.value),className:"bg-white text-slate-800 placeholder:text-slate-400"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 pt-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"notifyUser",checked:ae,onChange:a=>af(a.target.checked),className:"w-4 h-4 rounded border-slate-300 text-primary focus:ring-primary"}),(0,b.jsxs)(p.Label,{htmlFor:"notifyUser",className:"flex items-center gap-2 cursor-pointer text-slate-300",children:[(0,b.jsx)(D,{size:16,className:"text-primary"}),"Notify User via Email"]})]})]}),(0,b.jsxs)(t.DialogFooter,{children:[(0,b.jsx)(t.DialogClose,{asChild:!0,children:(0,b.jsx)(n.Button,{variant:"outline",className:"border-slate-200",children:"Cancel"})}),(0,b.jsxs)(n.Button,{onClick:()=>{U&&R(async()=>{let a=aa;ac&&(a=a?`${a} | Map: ${ac}`:`Map: ${ac}`);let b=await f(U.id,{status:Y,location:$,note:a},ae);b.error?u.toast.error(b.error):(u.toast.success(`Status updated${ae?" & user notified":""}`),X(!1),_(""),ab(""),ad(""),af(!1),aQ())})},disabled:Q||!$,className:"bg-primary hover:bg-primary/90 text-white rounded-full",children:[Q?(0,b.jsx)(E.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Log Event"]})]})]})}),(0,b.jsx)(t.Dialog,{open:au,onOpenChange:av,children:(0,b.jsxs)(t.DialogContent,{className:"glass border-0 shadow-2xl",children:[(0,b.jsxs)(t.DialogHeader,{children:[(0,b.jsxs)(t.DialogTitle,{className:"text-secondary flex items-center gap-2",children:[(0,b.jsx)(G.Truck,{className:"text-primary"}),"Dispatch Shipment"]}),(0,b.jsxs)(t.DialogDescription,{className:"text-slate-300",children:["Start the journey for shipment ",U?.tracking_number]})]}),(0,b.jsxs)("div",{className:"py-4 space-y-4",children:[(0,b.jsxs)("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/10",children:[(0,b.jsx)("p",{className:"text-sm text-primary font-medium",children:"This action will:"}),(0,b.jsxs)("ul",{className:"list-disc list-inside text-sm text-slate-600 mt-2 space-y-1",children:[(0,b.jsxs)("li",{children:["Set status to ",(0,b.jsx)("strong",{children:"In-Transit"})]}),(0,b.jsx)("li",{children:"Mark current location as Origin"}),(0,b.jsx)("li",{children:"Notify the customer (Mock)"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(p.Label,{className:"text-white font-medium",children:"Origin Location"}),(0,b.jsx)(o.Input,{className:"mt-2 bg-white text-slate-800 placeholder:text-slate-400",placeholder:"e.g. Lagos Logistics Center",value:aw,onChange:a=>ax(a.target.value)})]})]}),(0,b.jsxs)(t.DialogFooter,{children:[(0,b.jsx)(t.DialogClose,{asChild:!0,children:(0,b.jsx)(n.Button,{variant:"outline",className:"border-slate-200",children:"Cancel"})}),(0,b.jsxs)(n.Button,{onClick:()=>{U&&aw&&R(async()=>{let a=await g(U.id,{status:"in-transit",current_location:aw});a.error?u.toast.error(a.error):(await f(U.id,{status:"in-transit",location:aw,note:"Shipment dispatched from origin facility"},!0),u.toast.success("Shipment dispatched successfully"),av(!1),aQ())})},disabled:Q||!aw,className:"bg-primary hover:bg-primary/90 text-white rounded-full",children:[Q?(0,b.jsx)(E.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Dispatch Now"]})]})]})}),(0,b.jsx)(t.Dialog,{open:ay,onOpenChange:az,children:(0,b.jsxs)(t.DialogContent,{className:"glass border-0 shadow-2xl",children:[(0,b.jsxs)(t.DialogHeader,{children:[(0,b.jsxs)(t.DialogTitle,{className:"text-secondary flex items-center gap-2",children:[(0,b.jsx)(y.DollarSign,{className:"text-green-600"}),"Confirm Payment"]}),(0,b.jsxs)(t.DialogDescription,{className:"text-slate-300",children:["Verify payment for shipment ",U?.tracking_number]})]}),(0,b.jsxs)("div",{className:"py-6 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-100",children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Amount Due"}),(0,b.jsxs)("span",{className:"text-2xl font-bold text-secondary",children:["$",U?.price?.toFixed(2)]})]}),(0,b.jsxs)("p",{className:"text-slate-500 text-sm",children:["By confirming, the shipment status will move to ",(0,b.jsx)("strong",{children:"Confirmed"})," and become ready for dispatch."]})]}),(0,b.jsxs)(t.DialogFooter,{children:[(0,b.jsx)(t.DialogClose,{asChild:!0,children:(0,b.jsx)(n.Button,{variant:"outline",className:"border-slate-200",children:"Cancel"})}),(0,b.jsxs)(n.Button,{onClick:()=>{U&&R(async()=>{let a=await g(U.id,{payment_status:"paid",status:"confirmed"});a.error?u.toast.error(a.error):(u.toast.success("Payment confirmed! Ready for dispatch."),az(!1),aQ())})},disabled:Q,className:"bg-green-600 hover:bg-green-700 text-white rounded-full",children:[Q?(0,b.jsx)(E.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Confirm Received"]})]})]})}),(0,b.jsx)(t.Dialog,{open:ak,onOpenChange:al,children:(0,b.jsxs)(t.DialogContent,{className:"glass border-0 shadow-2xl",children:[(0,b.jsxs)(t.DialogHeader,{children:[(0,b.jsx)(t.DialogTitle,{className:"text-secondary",children:"Update Location"}),(0,b.jsxs)(t.DialogDescription,{className:"text-slate-300",children:["Update the current location for ",U?.tracking_number]})]}),(0,b.jsxs)("div",{className:"py-4",children:[(0,b.jsx)(p.Label,{className:"text-white font-medium",children:"Current Location"}),(0,b.jsx)(o.Input,{className:"mt-2 bg-white text-slate-800 placeholder:text-slate-400",placeholder:"e.g. Abuja Sorting Facility",value:am,onChange:a=>an(a.target.value)})]}),(0,b.jsxs)(t.DialogFooter,{children:[(0,b.jsx)(t.DialogClose,{asChild:!0,children:(0,b.jsx)(n.Button,{variant:"outline",className:"border-slate-200",children:"Cancel"})}),(0,b.jsxs)(n.Button,{onClick:()=>{U&&am&&R(async()=>{let a=await g(U.id,{current_location:am});a.error?u.toast.error(a.error):(u.toast.success("Location updated"),al(!1),an(""),aQ())})},disabled:Q||!am,className:"bg-primary hover:bg-primary/90 text-white rounded-full",children:[Q?(0,b.jsx)(E.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Update"]})]})]})}),(0,b.jsx)(t.Dialog,{open:ao,onOpenChange:ap,children:(0,b.jsxs)(t.DialogContent,{className:"glass border-0 shadow-2xl",children:[(0,b.jsxs)(t.DialogHeader,{children:[(0,b.jsx)(t.DialogTitle,{className:"text-secondary",children:"Review Shipment"}),(0,b.jsx)(t.DialogDescription,{className:"text-slate-300",children:"Set the price and approve this shipment request."})]}),(0,b.jsxs)("div",{className:"py-4",children:[(0,b.jsx)(p.Label,{className:"text-white font-medium",children:"Shipping Cost ($)"}),(0,b.jsx)(o.Input,{type:"number",className:"mt-2 bg-white text-slate-800 placeholder:text-slate-400",placeholder:"e.g. 50.00",value:aq,onChange:a=>ar(a.target.value)})]}),(0,b.jsxs)(t.DialogFooter,{children:[(0,b.jsx)(t.DialogClose,{asChild:!0,children:(0,b.jsx)(n.Button,{variant:"outline",className:"border-slate-200",children:"Cancel"})}),(0,b.jsxs)(n.Button,{onClick:()=>{as&&aq&&R(async()=>{let a=await g(as,{status:"quoted",payment_status:"unpaid",price:parseFloat(aq)});a.error?u.toast.error(a.error):(u.toast.success("Quote sent! Awaiting customer payment."),ap(!1),ar(""),at(null),aQ())})},disabled:Q||!aq,className:"bg-primary hover:bg-primary/90 text-white rounded-full",children:[Q?(0,b.jsx)(E.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Approve & Set Price"]})]})]})}),(0,b.jsx)(t.Dialog,{open:aA,onOpenChange:aB,children:(0,b.jsxs)(t.DialogContent,{className:"glass border-0 shadow-2xl max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(t.DialogHeader,{children:[(0,b.jsxs)(t.DialogTitle,{className:"text-secondary flex items-center gap-2",children:[(0,b.jsx)(F.Package,{className:"h-5 w-5"}),"Shipment Details"]}),(0,b.jsxs)(t.DialogDescription,{className:"text-slate-300",children:["Tracking ID: ",(0,b.jsx)("span",{className:"font-mono font-bold text-primary",children:aC?.tracking_number})]})]}),aC&&(0,b.jsxs)("div",{className:"space-y-6 py-4",children:[(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 p-4 bg-slate-50 rounded-lg",children:[(0,b.jsx)("p",{className:"text-xs text-slate-700 uppercase font-semibold",children:"Status"}),(0,b.jsx)(r.Badge,{variant:"outline",className:`mt-1 uppercase font-medium ${aY(aC.status)}`,children:aC.status})]}),(0,b.jsxs)("div",{className:"flex-1 p-4 bg-slate-50 rounded-lg",children:[(0,b.jsx)("p",{className:"text-xs text-slate-700 uppercase font-semibold",children:"Payment"}),(0,b.jsx)(r.Badge,{className:`mt-1 ${"paid"===aC.payment_status?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:aC.payment_status})]}),(0,b.jsxs)("div",{className:"flex-1 p-4 bg-slate-50 rounded-lg",children:[(0,b.jsx)("p",{className:"text-xs text-slate-700 uppercase font-semibold",children:"Price"}),(0,b.jsxs)("p",{className:"mt-1 font-bold text-lg text-slate-900",children:["$",aC.price?.toFixed(2)||"—"]})]})]}),(0,b.jsxs)("div",{className:"p-4 border border-slate-200 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("h4",{className:"font-semibold text-secondary flex items-center gap-2",children:[(0,b.jsx)(I.User,{size:16})," Sender Information"]}),!aE&&(0,b.jsxs)(n.Button,{variant:"ghost",size:"sm",className:"text-primary",onClick:()=>{let a=aC.sender_info?.email;a&&(window.location.href=`mailto:${a}`)},children:[(0,b.jsx)(J.Mail,{size:14,className:"mr-1"})," Email"]})]}),aE?(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsx)(o.Input,{placeholder:"Name",value:aG.sender_info?.name||"",onChange:a=>aH({...aG,sender_info:{...aG.sender_info,name:a.target.value}})}),(0,b.jsx)(o.Input,{placeholder:"Email",value:aG.sender_info?.email||"",onChange:a=>aH({...aG,sender_info:{...aG.sender_info,email:a.target.value}})}),(0,b.jsx)(o.Input,{className:"col-span-2",placeholder:"Address",value:aG.sender_info?.address||"",onChange:a=>aH({...aG,sender_info:{...aG.sender_info,address:a.target.value}})})]}):(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Name"}),(0,b.jsx)("p",{className:"font-medium",children:aC.sender_info?.name||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Email"}),(0,b.jsx)("p",{className:"font-medium",children:aC.sender_info?.email||"N/A"})]}),(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Address"}),(0,b.jsx)("p",{className:"font-medium",children:aC.sender_info?.address||"N/A"})]})]})]}),(0,b.jsxs)("div",{className:"p-4 border border-slate-200 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("h4",{className:"font-semibold text-secondary flex items-center gap-2",children:[(0,b.jsx)(I.User,{size:16})," Receiver Information"]}),!aE&&(0,b.jsxs)(n.Button,{variant:"ghost",size:"sm",className:"text-primary",onClick:()=>{let a=aC.receiver_info?.email;a&&(window.location.href=`mailto:${a}`)},children:[(0,b.jsx)(J.Mail,{size:14,className:"mr-1"})," Email"]})]}),aE?(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsx)(o.Input,{placeholder:"Name",value:aG.receiver_info?.name||"",onChange:a=>aH({...aG,receiver_info:{...aG.receiver_info,name:a.target.value}})}),(0,b.jsx)(o.Input,{placeholder:"Email",value:aG.receiver_info?.email||"",onChange:a=>aH({...aG,receiver_info:{...aG.receiver_info,email:a.target.value}})}),(0,b.jsx)(o.Input,{className:"col-span-2",placeholder:"Address",value:aG.receiver_info?.address||"",onChange:a=>aH({...aG,receiver_info:{...aG.receiver_info,address:a.target.value}})})]}):(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Name"}),(0,b.jsx)("p",{className:"font-medium",children:aC.receiver_info?.name||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Email"}),(0,b.jsx)("p",{className:"font-medium",children:aC.receiver_info?.email||"N/A"})]}),(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Address"}),(0,b.jsx)("p",{className:"font-medium",children:aC.receiver_info?.address||"N/A"})]})]})]}),(0,b.jsxs)("div",{className:"p-4 border border-slate-200 rounded-lg",children:[(0,b.jsxs)("h4",{className:"font-semibold text-secondary flex items-center gap-2 mb-3",children:[(0,b.jsx)(F.Package,{size:16})," Parcel Details"]}),aE?(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsx)(o.Input,{placeholder:"Description",value:aG.parcel_details?.description||"",onChange:a=>aH({...aG,parcel_details:{...aG.parcel_details,description:a.target.value}}),className:"col-span-2"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-slate-400 mb-1",children:"Weight (kg)"}),(0,b.jsx)(o.Input,{type:"number",value:aG.parcel_details?.weight||"",onChange:a=>aH({...aG,parcel_details:{...aG.parcel_details,weight:a.target.value}})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-slate-400 mb-1",children:"Dimensions (L/W/H)"}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)(o.Input,{placeholder:"L",className:"h-9 px-1 text-center",value:aG.parcel_details?.dimensions?.length||"",onChange:a=>aH({...aG,parcel_details:{...aG.parcel_details,dimensions:{...aG.parcel_details?.dimensions,length:a.target.value}}})}),(0,b.jsx)(o.Input,{placeholder:"W",className:"h-9 px-1 text-center",value:aG.parcel_details?.dimensions?.width||"",onChange:a=>aH({...aG,parcel_details:{...aG.parcel_details,dimensions:{...aG.parcel_details?.dimensions,width:a.target.value}}})}),(0,b.jsx)(o.Input,{placeholder:"H",className:"h-9 px-1 text-center",value:aG.parcel_details?.dimensions?.height||"",onChange:a=>aH({...aG,parcel_details:{...aG.parcel_details,dimensions:{...aG.parcel_details?.dimensions,height:a.target.value}}})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-slate-400 mb-1",children:"Created Date"}),(0,b.jsx)(o.Input,{type:"datetime-local",value:aG.created_at?new Date(aG.created_at).toISOString().slice(0,16):"",onChange:a=>{let b=new Date(a.target.value);aH({...aG,created_at:b.toISOString()})}})]})]}):(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Description"}),(0,b.jsx)("p",{className:"font-medium",children:aC.parcel_details?.description||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Weight"}),(0,b.jsxs)("p",{className:"font-medium",children:[aC.parcel_details?.weight||"N/A"," kg"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Current Location"}),(0,b.jsx)("p",{className:"font-medium",children:aC.current_location||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Created"}),(0,b.jsx)("p",{className:"font-medium",children:aC.created_at?new Date(aC.created_at).toLocaleString():"N/A"})]})]})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2 pt-4 border-t",children:aE?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.Button,{variant:"default",size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",disabled:Q,onClick:()=>{R(async()=>{try{(await g(aC.id,aG)).success?(u.toast.success("Shipment updated"),aD({...aC,...aG}),aF(!1),await aQ()):u.toast.error("Update failed")}catch(a){u.toast.error("An error occurred")}})},children:"Save Changes"}),(0,b.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>aF(!1),children:"Cancel"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:()=>window.open(`/track/${aC.tracking_number}`,"_blank"),children:[(0,b.jsx)(K.Eye,{size:14,className:"mr-1"})," View Tracking"]}),(0,b.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:()=>{aB(!1),V(aC),Z(aC.status||"pending"),_(aC.current_location||""),X(!0)},children:[(0,b.jsx)(C,{size:14,className:"mr-1"})," Update Status"]}),(0,b.jsx)(n.Button,{variant:"default",size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>{aF(!0),aH({sender_info:aC.sender_info,receiver_info:aC.receiver_info,parcel_details:aC.parcel_details,created_at:aC.created_at})},children:"Edit"}),(0,b.jsxs)(n.Button,{variant:"destructive",size:"sm",onClick:async()=>{confirm("Are you sure you want to delete this shipment? This action cannot be undone.")&&(await h(aC.id),aB(!1),aQ(),u.toast.success("Shipment deleted"))},children:[(0,b.jsx)(L,{size:14,className:"mr-1"})," Delete"]})]})})]})]})}),(0,b.jsx)(t.Dialog,{open:aM,onOpenChange:aN,children:(0,b.jsxs)(t.DialogContent,{className:"max-w-md",children:[(0,b.jsxs)(t.DialogHeader,{children:[(0,b.jsxs)(t.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(I.User,{className:"text-primary"}),"Create New User"]}),(0,b.jsx)(t.DialogDescription,{children:"Create a new account. They will receive a confirmation email."})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Label,{children:"Full Name"}),(0,b.jsx)(o.Input,{value:aO.fullName,onChange:a=>aP(b=>({...b,fullName:a.target.value})),placeholder:"John Doe"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Label,{children:"Email"}),(0,b.jsx)(o.Input,{type:"email",value:aO.email,onChange:a=>aP(b=>({...b,email:a.target.value})),placeholder:"john@example.com"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Label,{children:"Password"}),(0,b.jsx)(o.Input,{type:"password",value:aO.password,onChange:a=>aP(b=>({...b,password:a.target.value})),placeholder:"••••••••"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(p.Label,{children:"Role"}),(0,b.jsxs)("select",{className:"w-full h-10 rounded-md border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:aO.role,onChange:a=>aP(b=>({...b,role:a.target.value})),children:[(0,b.jsx)("option",{value:"user",children:"User"}),(0,b.jsx)("option",{value:"admin",children:"Admin"})]})]})]}),(0,b.jsxs)(t.DialogFooter,{children:[(0,b.jsx)(t.DialogClose,{asChild:!0,children:(0,b.jsx)(n.Button,{variant:"outline",children:"Cancel"})}),(0,b.jsxs)(n.Button,{onClick:()=>{R(async()=>{let a=await k(aO);a.error?u.toast.error(a.error):(u.toast.success("User created successfully"),aN(!1),aP({email:"",password:"",fullName:"",role:"user"}),a.warning&&u.toast.warning(a.warning),aR())})},disabled:Q||!aO.email||!aO.password,children:[Q?(0,b.jsx)(E.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):(0,b.jsx)(A.Plus,{className:"mr-2 h-4 w-4"}),"Create User"]})]})]})})]})]})}a.s(["default",()=>P],10179)}];

//# sourceMappingURL=src_app_admin_page_tsx_645532da._.js.map