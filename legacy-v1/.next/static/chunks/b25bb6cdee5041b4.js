(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,29801,(e,t,n)=>{"use strict";t.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(s=r;0!=s--;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(s=r;0!=s--;)if(!Object.prototype.hasOwnProperty.call(n,a[s]))return!1;for(s=r;0!=s--;){var r,s,a,l=a[s];if(!e(t[l],n[l]))return!1}return!0}return t!=t&&n!=n}},83292,e=>{"use strict";var t=e.i(43476),n=e.i(71645),r=e.i(8495),s=e.i(46932),a=e.i(23287),a=a,l=e.i(75254);let i=(0,l.default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var o=e.i(46897),d=e.i(15788),c=e.i(3116),u=e.i(88844),m=e.i(15288),p=e.i(75157);function g({history:e}){let n=[...e].sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime());return(0,t.jsx)("div",{className:"max-w-3xl mx-auto py-8",children:(0,t.jsx)("div",{className:"relative space-y-8 before:absolute before:inset-0 before:ml-5 before:-translate-x-px md:before:mx-auto md:before:translate-x-0 before:h-full before:w-0.5 before:bg-gradient-to-b before:from-transparent before:via-slate-300 before:to-transparent",children:n.map((e,n)=>{let r=0===n;return(e=>{switch(e.toLowerCase()){case"delivered":return u.Package;case"out-for-delivery":return d.Truck;case"in-transit":return o.MapPin;default:return c.Clock}})(e.status),(0,t.jsxs)(s.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*n},className:"relative flex items-center md:justify-between md:odd:flex-row-reverse group is-active",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border-4 border-background bg-slate-200 group-[.is-active]:bg-primary group-[.is-active]:text-primary-foreground shadow shrink-0 md:order-1 md:group-odd:-translate-x-1/2 md:group-even:translate-x-1/2 ml-0 translate-x-0 z-10 transition-colors",children:r?(0,t.jsx)(a.default,{className:"w-5 h-5 text-white"}):(0,t.jsx)(i,{className:"w-4 h-4 text-slate-500 fill-slate-500"})}),(0,t.jsxs)(m.Card,{className:(0,p.cn)("w-[calc(100%-4rem)] md:w-[calc(50%-2.5rem)] p-4 ml-4 md:ml-0 shadow-md glass border-0",r&&"border-primary/50 ring-1 ring-primary/20 bg-primary/5"),children:[(0,t.jsx)(m.CardHeader,{className:"p-0 mb-2",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:(0,p.cn)("text-xs font-bold uppercase tracking-wider py-1 px-2 rounded-full",r?"bg-primary text-white":"bg-slate-100 text-slate-500"),children:e.status.replace("-"," ")}),(0,t.jsx)("span",{className:"text-xs text-slate-400",children:new Date(e.timestamp).toLocaleString()})]})}),(0,t.jsxs)(m.CardContent,{className:"p-0",children:[(0,t.jsxs)("p",{className:"font-medium text-secondary flex items-center gap-2",children:[(0,t.jsx)(o.MapPin,{size:16,className:"text-primary"}),e.location]}),e.note&&(0,t.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:e.note})]})]})]},`${e.timestamp}-${n}`)})})})}var f=e.i(47167),h=e.i(74080),x=e.i(29801);function v(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)0>t.indexOf(r[s])&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function b(e,t,n,r){return new(n||(n=Promise))(function(s,a){function l(e){try{o(r.next(e))}catch(e){a(e)}}function i(e){try{o(r.throw(e))}catch(e){a(e)}}function o(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(l,i)}o((r=r.apply(e,t||[])).next())})}"function"==typeof SuppressedError&&SuppressedError;let y="NOT_LOADED",j="LOADED",N="AUTH_FAILURE";class w{static load(e,t){return b(this,void 0,void 0,function*(){var n,r;let s=e.libraries?e.libraries.split(","):[],a=this.serializeParams(e);this.listeners.push(t),(null==(r=null==(n=window.google)?void 0:n.maps)?void 0:r.importLibrary)?(this.serializedApiParams||(this.loadingStatus=j),this.notifyLoadingStatusListeners()):(this.serializedApiParams=a,this.initImportLibrary(e)),this.serializedApiParams&&this.serializedApiParams!==a&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");let l=["maps",...s];yield Promise.all(l.map(e=>google.maps.importLibrary(e)))})}static serializeParams(e){return[e.v,e.key,e.language,e.region,e.authReferrerPolicy,e.solutionChannel].join("/")}static initImportLibrary(e){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary)return void console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");let t=null,n=()=>t||(t=new Promise((t,n)=>{var r;let s=document.createElement("script"),a=new URLSearchParams;for(let[t,n]of Object.entries(e)){let e=t.replace(/[A-Z]/g,e=>"_"+e[0].toLowerCase());a.set(e,String(n))}a.set("loading","async"),a.set("callback","__googleMapsCallback__"),s.async=!0,s.src="https://maps.googleapis.com/maps/api/js?"+a.toString(),s.nonce=(null==(r=document.querySelector("script[nonce]"))?void 0:r.nonce)||"",s.onerror=()=>{this.loadingStatus="FAILED",this.notifyLoadingStatusListeners(),n(Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=j,this.notifyLoadingStatusListeners(),t()},window.gm_authFailure=()=>{this.loadingStatus=N,this.notifyLoadingStatusListeners()},this.loadingStatus="LOADING",this.notifyLoadingStatusListeners(),document.head.append(s)}));google.maps.importLibrary=e=>n().then(()=>google.maps.importLibrary(e))}static notifyLoadingStatusListeners(){for(let e of this.listeners)e(this.loadingStatus)}}w.loadingStatus=y,w.listeners=[];let C=["gmp_visgl_reactgooglemaps_v1.7.1"],E=n.default.createContext(null),S=e=>{let{children:t}=e,r=v(e,["children"]),{mapInstances:s,addMapInstance:a,removeMapInstance:l,clearMapInstances:i}=function(){let[e,t]=(0,n.useState)({});return{mapInstances:e,addMapInstance:(e,n="default")=>{t(t=>Object.assign(Object.assign({},t),{[n]:e}))},removeMapInstance:(e="default")=>{t(t=>(t[e],v(t,["symbol"==typeof e?e:e+""])))},clearMapInstances:()=>{t({})}}}(),{status:o,loadedLibraries:d,importLibrary:c}=function(e){let{onLoad:t,onError:r,apiKey:s,version:a,libraries:l=[]}=e,i=v(e,["onLoad","onError","apiKey","version","libraries"]),[o,d]=(0,n.useState)(w.loadingStatus),[c,u]=(0,n.useReducer)((e,t)=>e[t.name]?e:Object.assign(Object.assign({},e),{[t.name]:t.value}),{}),m=(0,n.useMemo)(()=>null==l?void 0:l.join(","),[l]),p=(0,n.useMemo)(()=>JSON.stringify(Object.assign({apiKey:s,version:a},i)),[s,a,i]),g=(0,n.useCallback)(e=>b(this,void 0,void 0,function*(){var t;if(c[e])return c[e];if(!(null==(t=null==google?void 0:google.maps)?void 0:t.importLibrary))throw Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");let n=yield window.google.maps.importLibrary(e);return u({name:e,value:n}),n}),[c]);return(0,n.useEffect)(()=>{b(this,void 0,void 0,function*(){try{let e=Object.assign({key:s},i);for(let t of(a&&(e.v=a),(null==m?void 0:m.length)>0&&(e.libraries=m),(void 0===e.channel||e.channel<0||e.channel>999)&&delete e.channel,void 0===e.solutionChannel?e.solutionChannel="GMP_visgl_rgmlibrary_v1_default":""===e.solutionChannel&&delete e.solutionChannel,yield w.load(e,e=>d(e)),["core","maps",...l]))yield g(t);t&&t()}catch(e){r?r(e):console.error("<ApiProvider> failed to load the Google Maps JavaScript API",e)}})},[s,m,p]),{status:o,loadedLibraries:c,importLibrary:g}}(r),u=(0,n.useMemo)(()=>r.disableUsageAttribution?null:C,[r.disableUsageAttribution]),m=(0,n.useMemo)(()=>({mapInstances:s,addMapInstance:a,removeMapInstance:l,clearMapInstances:i,status:o,loadedLibraries:d,importLibrary:c,internalUsageAttributionIds:u}),[s,a,l,i,o,d,c,u]);return n.default.createElement(E.Provider,{value:m},t)},O={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},L=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],k=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],P=Object.keys(O),_=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","headingInteractionEnabled","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","tiltInteractionEnabled","zoomControl","zoomControlOptions"]);function I(){var e;return(null==(e=(0,n.useContext)(E))?void 0:e.status)||y}function M(e){return e&&"object"==typeof e&&"lat"in e&&"lng"in e&&Number.isFinite(e.lat)&&Number.isFinite(e.lng)?e:e.toJSON()}let A=()=>n.default.createElement("div",{style:{position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"}},n.default.createElement("h2",null,"Error: AuthFailure"),n.default.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",n.default.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."));class T{static has(e){return this.entries[e]&&this.entries[e].length>0}static pop(e){return this.entries[e]&&this.entries[e].pop()||null}static push(e,t){this.entries[e]||(this.entries[e]=[]),this.entries[e].push(t)}}T.entries={};let z=n.default.createContext(null),D=e=>{let t,r,s,a,l,i,{children:o,id:d,className:c,style:u}=e,m=(0,n.useContext)(E),p=I();if(!m)throw Error("<Map> can only be used inside an <ApiProvider> component.");let[g,f,h]=function(e,t){let r,s,a=I()===j,[l,i]=(0,n.useState)(null),[o,d]=function(){let[e,t]=(0,n.useState)(null);return[e,(0,n.useCallback)(e=>t(e),[t])]}(),c=(r=function(){let[,e]=(0,n.useReducer)(e=>e+1,0);return e}(),s=(0,n.useRef)({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0}),(0,n.useEffect)(()=>{if(!l)return;let e=google.maps.event.addListener(l,"bounds_changed",()=>{let e,t,n,a,i;e=l.getCenter(),t=l.getZoom(),n=l.getHeading()||0,a=l.getTilt()||0,i=l.getBounds(),e&&i&&Number.isFinite(t)||console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(s.current,{center:(null==e?void 0:e.toJSON())||{lat:0,lng:0},zoom:t||0,heading:n,tilt:a}),r()});return()=>e.remove()},[l,r]),s),{id:u,defaultBounds:m,defaultCenter:p,defaultZoom:g,defaultHeading:f,defaultTilt:h,reuseMaps:x,renderingType:b,colorScheme:y}=e,N=v(e,["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps","renderingType","colorScheme"]),w=void 0!==e.zoom||void 0!==e.defaultZoom,C=void 0!==e.center||void 0!==e.defaultCenter;m||w&&C||console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!N.center&&p&&(N.center=p),!N.zoom&&Number.isFinite(g)&&(N.zoom=g),!N.heading&&Number.isFinite(f)&&(N.heading=f),!N.tilt&&Number.isFinite(h)&&(N.tilt=h);let E=N.internalUsageAttributionIds;for(let e of(null==E?N.internalUsageAttributionIds=t.internalUsageAttributionIds:N.internalUsageAttributionIds=[...t.internalUsageAttributionIds||[],...E],Object.keys(N)))void 0===N[e]&&delete N[e];let S=(0,n.useRef)(void 0);return(0,n.useEffect)(()=>{let n,r;if(!o||!a)return;let{addMapInstance:s,removeMapInstance:l}=t,{mapId:d}=e,p=`${d||"default"}:${b||"default"}:${y||"LIGHT"}`;if(x&&T.has(p)?(n=(r=T.pop(p)).getDiv(),o.appendChild(n),r.setOptions(N),setTimeout(()=>r.setCenter(r.getCenter()),0)):((n=document.createElement("div")).style.height="100%",o.appendChild(n),r=new google.maps.Map(n,Object.assign(Object.assign(Object.assign({},N),b?{renderingType:b}:{}),y?{colorScheme:y}:{}))),i(r),s(r,u),m){let{padding:e}=m,t=v(m,["padding"]);r.fitBounds(t,e)}else w&&C||r.fitBounds({east:180,west:-180,south:-90,north:90});if(S.current){let{mapId:e,cameraState:t}=S.current;e!==d&&r.setOptions(t)}return()=>{S.current={mapId:d,cameraState:c.current},n.remove(),x?T.push(p,r):google.maps.event.clearInstanceListeners(r),i(null),l(u)}},[o,a,u,e.mapId,e.renderingType,e.colorScheme]),[l,d,c]}(e,m);for(let o of(t=e.center?M(e.center):null,r=null,s=null,t&&Number.isFinite(t.lat)&&Number.isFinite(t.lng)&&(r=t.lat,s=t.lng),a=Number.isFinite(e.zoom)?e.zoom:null,l=Number.isFinite(e.heading)?e.heading:null,i=Number.isFinite(e.tilt)?e.tilt:null,(0,n.useLayoutEffect)(()=>{if(!g)return;let e={},t=!1;null!==r&&null!==s&&(h.current.center.lat!==r||h.current.center.lng!==s)&&(e.center={lat:r,lng:s},t=!0),null!==a&&h.current.zoom!==a&&(e.zoom=a,t=!0),null!==l&&h.current.heading!==l&&(e.heading=l,t=!0),null!==i&&h.current.tilt!==i&&(e.tilt=i,t=!0),t&&g.moveCamera(e)}),P)){let t=e[o],r=O[o];(0,n.useEffect)(()=>{if(!g||!t)return;let e=google.maps.event.addListener(g,r,e=>{t(function(e,t,n){var r;let s={type:e,map:t,detail:{},stoppable:!1,stop:()=>{}};if(L.includes(e)){let e=t.getCenter(),n=t.getZoom(),r=t.getHeading()||0,a=t.getTilt()||0,l=t.getBounds();return e&&l&&Number.isFinite(n)||console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),s.detail={center:(null==e?void 0:e.toJSON())||{lat:0,lng:0},zoom:n||0,heading:r,tilt:a,bounds:(null==l?void 0:l.toJSON())||{north:90,east:180,south:-90,west:-180}},s}if(k.includes(e)){if(!n)throw Error("[createEvent] mouse events must provide a srcEvent");return s.domEvent=n.domEvent,s.stoppable=!0,s.stop=()=>n.stop(),s.detail={latLng:(null==(r=n.latLng)?void 0:r.toJSON())||null,placeId:n.placeId},s}return s}(r,g,e))});return()=>e.remove()},[g,r,t])}!function(e,t){var r,s,a;let l,i,o={};for(let e of Object.keys(t))_.has(e)&&(o[e]=t[e]);r=()=>{e&&e.setOptions(o)},s=[o],a=x.default,(0,n.useEffect)(r,[(l=(0,n.useRef)(void 0),(0,n.useEffect)(()=>{l.current=s}),i=l.current,(0,n.useMemo)(()=>i&&a(i,s)?i:s,[s,i,a]))])}(g,e);let b=function(e,t){let{viewport:r,viewState:s}=t;return(0,n.useLayoutEffect)(()=>{if(!e||!s)return;let{latitude:t,longitude:n,bearing:r,pitch:a,zoom:l}=s;e.moveCamera({center:{lat:t,lng:n},heading:r,tilt:a,zoom:l+1})},[e,s]),!!r}(g,e),y=!!e.controlled;(0,n.useEffect)(()=>{if(g)return b&&g.setOptions({disableDefaultUI:!0}),(b||y)&&g.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{g.setOptions({gestureHandling:e.gestureHandling,keyboardShortcuts:e.keyboardShortcuts})}},[g,b,y,e.gestureHandling,e.keyboardShortcuts]);let w=e.center?M(e.center):null,C=null,S=null;w&&Number.isFinite(w.lat)&&Number.isFinite(w.lng)&&(C=w.lat,S=w.lng);let D=(0,n.useMemo)(()=>{var t,n,r;return{center:{lat:null!=C?C:0,lng:null!=S?S:0},zoom:null!=(t=e.zoom)?t:0,heading:null!=(n=e.heading)?n:0,tilt:null!=(r=e.tilt)?r:0}},[C,S,e.zoom,e.heading,e.tilt]);(0,n.useLayoutEffect)(()=>{if(!g||!y)return;g.moveCamera(D);let e=g.addListener("bounds_changed",()=>{g.moveCamera(D)});return()=>e.remove()},[g,y,D]);let F=(0,n.useMemo)(()=>Object.assign({width:"100%",height:"100%",position:"relative",zIndex:b?-1:0},u),[u,b]),H=(0,n.useMemo)(()=>({map:g}),[g]);return p===N?n.default.createElement("div",{style:Object.assign({position:"relative"},c?{}:F),className:c},n.default.createElement(A,null)):n.default.createElement("div",Object.assign({ref:f,"data-testid":"map",style:c?void 0:F,className:c},d?{id:d}:{}),g?n.default.createElement(z.Provider,{value:H},o):null)};D.deckGLViewProps=!0;let F=new Set,H=(e=null)=>{let t=(0,n.useContext)(E),{map:r}=(0,n.useContext)(z)||{};if(null===t)return!function(...e){let t=JSON.stringify(e);F.has(t)||(F.add(t),console.error(...e))}("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;let{mapInstances:s}=t;return null!==e?s[e]||null:r||s.default||null};function U(e,t,r){(0,n.useEffect)(()=>{if(!e||!t||!r)return;let n=google.maps.event.addListener(e,t,r);return()=>n.remove()},[e,t,r])}function R(e,t,r){(0,n.useEffect)(()=>{e&&(e[t]=r)},[e,t,r])}function $(e,t,r){(0,n.useEffect)(()=>{if(e&&t&&r)return e.addEventListener(t,r),()=>e.removeEventListener(t,r)},[e,t,r])}let B=new class{constructor(){this.renderedStyles=new Set,this.styleElement=null}getStyleElement(){return this.styleElement||(this.styleElement=document.createElement("style"),this.styleElement.setAttribute("data-rgm-anchor-styles",""),document.head.appendChild(this.styleElement)),this.styleElement}addAdvancedMarkerPointerEventsOverwrite(){if(this.renderedStyles.has("marker-pointer-events"))return;let e=this.getStyleElement();e.textContent+=`
      gmp-advanced-marker[data-origin='rgm'] {
        pointer-events: none !important;
      }
    `,this.renderedStyles.add("marker-pointer-events")}cleanup(){this.styleElement&&(this.styleElement.remove(),this.styleElement=null,this.renderedStyles.clear())}},Z=n.default.createContext(null),G=["50%","100%"];function J(e){return e.nodeType===Node.ELEMENT_NODE}(0,n.forwardRef)((e,t)=>{let{children:r,style:s,className:a,anchorPoint:l}=e,[i,o]=function(e){var t,r,s,a,l,i;let o,d,[c,u]=(0,n.useState)(null),[m,p]=(0,n.useState)(null),g=H(),f=(t="marker",o=I()===j,d=(0,n.useContext)(E),(0,n.useEffect)(()=>{o&&d&&d.importLibrary(t)},[o,d,t]),(null==d?void 0:d.loadedLibraries[t])||null),{children:h,onClick:x,className:v,onMouseEnter:b,onMouseLeave:y,onDrag:N,onDragStart:w,onDragEnd:C,collisionBehavior:S,clickable:O,draggable:L,position:k,title:P,zIndex:_,anchorPoint:M,anchorLeft:A,anchorTop:T}=e,z=n.Children.count(h);return(0,n.useEffect)(()=>{if(!g||!f)return;let e=new f.AdvancedMarkerElement;e.map=g,u(e);let t=null;return z>0&&(e.content=t=document.createElement("div"),p(t)),()=>{e.map=null,null==t||t.remove(),u(null),p(null)}},[g,f,z]),(0,n.useEffect)(()=>{(null==c?void 0:c.content)&&J(c.content)&&!(z>0)&&(c.content.className=null!=v?v:"")},[c,v,z]),r=c,s=M,a=A,l=T,i=z>0,(0,n.useEffect)(()=>{if(!r||!i)return;let e=function(e,t){var n;if(!(null==(n=null==google?void 0:google.maps)?void 0:n.version))return;let r=google.maps.version.split("."),s=parseInt(r[0],10),a=parseInt(r[1],10);return s>3||3===s&&a>=62}(0,0),t=r.content;if(t&&J(t)){if(void 0!==a||void 0!==l){e||console.warn(`AdvancedMarker: The anchorLeft and anchorTop props are only supported in Google Maps API version 3.62 and above. The current version is ${google.maps.version}.`),r.anchorLeft=a,r.anchorTop=l,void 0!==s&&console.warn("AdvancedMarker: the anchorPoint prop is ignored when anchorLeft and/or anchorTop are set.");return}if(void 0!==s){let[n,a]=null!=s?s:G,l=`calc(-1 * ${n})`,i=`calc(-1 * ${a})`;e?(r.anchorLeft=l,r.anchorTop=i,t.style.transform=""):(t.style.transform=`translate(50%, 100%) translate(${l}, ${i})`,r.dataset.origin="rgm",B.addAdvancedMarkerPointerEventsOverwrite())}}},[r,s,a,l,i]),R(c,"position",k),R(c,"title",null!=P?P:""),R(c,"zIndex",_),R(c,"collisionBehavior",S),(0,n.useEffect)(()=>{c&&(void 0!==L?c.gmpDraggable=L:N||w||C?c.gmpDraggable=!0:c.gmpDraggable=!1)},[c,L,N,C,w]),(0,n.useEffect)(()=>{if(!c)return;let e=void 0!==O||!!x||!!b||!!y;c.gmpClickable=e,e&&(null==c?void 0:c.content)&&J(c.content)&&(c.content.style.pointerEvents="all",x&&(c.content.style.cursor="pointer"))},[c,O,x,b,y]),U(c,"click",x),U(c,"drag",N),U(c,"dragstart",w),U(c,"dragend",C),$(null==c?void 0:c.element,"mouseenter",b),$(null==c?void 0:c.element,"mouseleave",y),[c,m]}(e),d=(0,n.useMemo)(()=>i?{marker:i}:null,[i]);return((0,n.useImperativeHandle)(t,()=>i,[i]),o)?n.default.createElement(Z.Provider,{value:d},(0,h.createPortal)(n.default.createElement(K,{anchorPoint:l,styles:s,className:a},r),o)):null}).displayName="AdvancedMarker";let K=({children:e,styles:t,className:r})=>n.default.createElement("div",{className:r,style:t},e),V=(0,n.forwardRef)((e,t)=>{let r=function(e){let[t,r]=(0,n.useState)(null),s=H(),{onClick:a,onDrag:l,onDragStart:i,onDragEnd:o,onMouseOver:d,onMouseOut:c}=e,u=v(e,["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"]),{position:m,draggable:p}=u;return(0,n.useEffect)(()=>{if(!s){void 0===s&&console.error("<Marker> has to be inside a Map component.");return}let e=new google.maps.Marker(u);return e.setMap(s),r(e),()=>{e.setMap(null),r(null)}},[s]),(0,n.useEffect)(()=>{if(!t)return;let e=google.maps.event;return a&&e.addListener(t,"click",a),l&&e.addListener(t,"drag",l),i&&e.addListener(t,"dragstart",i),o&&e.addListener(t,"dragend",o),d&&e.addListener(t,"mouseover",d),c&&e.addListener(t,"mouseout",c),t.setDraggable(!!p),()=>{e.clearInstanceListeners(t)}},[t,p,a,l,i,o,d,c]),(0,n.useEffect)(()=>{t&&t.setOptions(u)},[t,u]),(0,n.useEffect)(()=>{!p&&m&&t&&t.setPosition(m)},[p,m,t]),t}(e);return(0,n.useImperativeHandle)(t,()=>r,[r]),n.default.createElement(n.default.Fragment,null)});V.displayName="Marker";let q=(0,l.default)("navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);function W({className:e,currentLocation:n,originAddress:r,destinationAddress:s,location:a,status:l}){let i=f.default.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY;if(!i)return(0,t.jsx)("div",{className:`bg-gradient-to-br from-slate-100 to-slate-50 rounded-xl border border-slate-200 overflow-hidden ${e}`,children:(0,t.jsxs)("div",{className:"h-full flex flex-col",children:[(0,t.jsxs)("div",{className:"bg-slate-800 text-white px-4 py-3 flex items-center gap-2",children:[(0,t.jsx)(q,{size:16,className:"text-primary"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Live Tracking"}),l&&(0,t.jsx)("span",{className:"ml-auto text-xs bg-primary/20 text-primary px-2 py-0.5 rounded-full uppercase",children:l})]}),(0,t.jsxs)("div",{className:"flex-1 p-4 space-y-3",children:[n&&(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-white rounded-lg border border-slate-100 shadow-sm",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(u.Package,{size:16,className:"text-blue-600"})}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 uppercase font-medium",children:"Current Location"}),(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-800 truncate",children:n})]})]}),r&&(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-white rounded-lg border border-slate-100 shadow-sm",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(o.MapPin,{size:16,className:"text-green-600"})}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 uppercase font-medium",children:"Origin"}),(0,t.jsx)("p",{className:"text-sm text-slate-700 truncate",children:r})]})]}),s&&(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-white rounded-lg border border-slate-100 shadow-sm",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(o.MapPin,{size:16,className:"text-orange-600"})}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 uppercase font-medium",children:"Destination"}),(0,t.jsx)("p",{className:"text-sm text-slate-700 truncate",children:s})]})]}),!n&&!r&&!s&&(0,t.jsx)("div",{className:"flex items-center justify-center h-full text-slate-400",children:(0,t.jsx)("p",{className:"text-sm",children:"Location tracking available"})})]})]})});let d={lat:51.505,lng:-.09},c=a||d;return(0,t.jsx)(S,{apiKey:i,children:(0,t.jsx)("div",{className:`rounded-xl overflow-hidden shadow-lg ${e}`,children:(0,t.jsx)(D,{defaultCenter:d,center:c,defaultZoom:10,zoom:12,gestureHandling:"cooperative",disableDefaultUI:!1,zoomControl:!0,className:"w-full h-full",children:(0,t.jsx)(V,{position:c})})})})}var Y=e.i(87486),X=e.i(72664),Q=e.i(53475);function ee({initialShipment:e}){let[s,a]=(0,n.useState)(e),[l,i]=(0,n.useState)(!1);return(0,r.useRealtimeShipment)(s.tracking_number||"",e=>{a(e),i(!0),setTimeout(()=>i(!1),3e3)}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-secondary",children:["Tracking ",(0,t.jsx)("span",{className:"text-primary",children:s.tracking_number})]}),(0,t.jsxs)("span",{className:`flex items-center gap-1.5 px-2 py-1 text-xs font-medium rounded-full transition-colors ${l?"bg-green-500 text-white":"bg-green-100 text-green-700"}`,children:[(0,t.jsx)(Q.Wifi,{size:12,className:"animate-pulse"}),l?"Updated!":"Live"]})]}),(0,t.jsx)("p",{className:"text-slate-500",children:"Global Express Shipment"})]}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsx)(Y.Badge,{variant:"outline",className:`text-lg py-1 px-4 border-primary text-primary bg-primary/5 uppercase transition-all ${l?"ring-2 ring-green-500 ring-offset-2":""}`,children:s.status})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsx)("div",{className:"lg:col-span-2 space-y-8",children:(0,t.jsx)(g,{history:s.history,currentStatus:s.status||""})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(W,{className:"w-full h-64 md:h-72",currentLocation:s.current_location||void 0,originAddress:s.sender_info?.address,destinationAddress:s.receiver_info?.address,status:s.status||void 0}),(0,t.jsxs)(m.Card,{className:"glass border-0 shadow-lg",children:[(0,t.jsx)(m.CardHeader,{children:(0,t.jsx)(m.CardTitle,{className:"text-lg text-secondary",children:"Parcel Details"})}),(0,t.jsxs)(m.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(X.Box,{className:"text-primary mt-1",size:20}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-slate-700",children:"Description"}),(0,t.jsx)("p",{className:"text-slate-500",children:s.parcel_details?.description||"N/A"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"font-bold text-primary w-5 text-center text-sm mt-1",children:"KG"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-slate-700",children:"Weight"}),(0,t.jsxs)("p",{className:"text-slate-500",children:[s.parcel_details?.weight||"N/A"," kg"]})]})]})]})]}),(0,t.jsxs)(m.Card,{className:"glass border-0 shadow-lg",children:[(0,t.jsx)(m.CardHeader,{children:(0,t.jsx)(m.CardTitle,{className:"text-lg text-secondary",children:"Address Information"})}),(0,t.jsxs)(m.CardContent,{className:"space-y-6 relative",children:[(0,t.jsx)("div",{className:"absolute left-3 top-6 bottom-6 w-0.5 bg-slate-100"}),(0,t.jsxs)("div",{className:"relative pl-8",children:[(0,t.jsx)("div",{className:"absolute left-0 top-1 w-6 h-6 rounded-full bg-blue-50 border-2 border-blue-200 flex items-center justify-center",children:(0,t.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-500"})}),(0,t.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"From"}),(0,t.jsx)("p",{className:"font-medium text-secondary",children:s.sender_info?.name}),(0,t.jsx)("p",{className:"text-sm text-slate-500",children:s.sender_info?.address})]}),(0,t.jsxs)("div",{className:"relative pl-8",children:[(0,t.jsx)("div",{className:"absolute left-0 top-1 w-6 h-6 rounded-full bg-orange-50 border-2 border-orange-200 flex items-center justify-center",children:(0,t.jsx)(o.MapPin,{className:"w-3 h-3 text-primary"})}),(0,t.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"To"}),(0,t.jsx)("p",{className:"font-medium text-secondary",children:s.receiver_info?.name}),(0,t.jsx)("p",{className:"text-sm text-slate-500",children:s.receiver_info?.address})]})]})]})]})]})]})}e.s(["default",()=>ee],83292)}]);