(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},98183,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={assign:function(){return o},searchParamsToUrlQuery:function(){return a},urlQueryToSearchParams:function(){return l}};for(var n in s)Object.defineProperty(r,n,{enumerable:!0,get:s[n]});function a(e){let t={};for(let[r,s]of e.entries()){let e=t[r];void 0===e?t[r]=s:Array.isArray(e)?e.push(s):t[r]=[e,s]}return t}function i(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function l(e){let t=new URLSearchParams;for(let[r,s]of Object.entries(e))if(Array.isArray(s))for(let e of s)t.append(r,i(e));else t.set(r,i(s));return t}function o(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,s]of r.entries())e.append(t,s)}return e}},95057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={formatUrl:function(){return l},formatWithValidation:function(){return c},urlObjectKeys:function(){return o}};for(var n in s)Object.defineProperty(r,n,{enumerable:!0,get:s[n]});let a=e.r(90809)._(e.r(98183)),i=/https?|ftp|gopher|file/;function l(e){let{auth:t,hostname:r}=e,s=e.protocol||"",n=e.pathname||"",l=e.hash||"",o=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),o&&"object"==typeof o&&(o=String(a.urlQueryToSearchParams(o)));let d=e.search||o&&`?${o}`||"";return s&&!s.endsWith(":")&&(s+=":"),e.slashes||(!s||i.test(s))&&!1!==c?(c="//"+(c||""),n&&"/"!==n[0]&&(n="/"+n)):c||(c=""),l&&"#"!==l[0]&&(l="#"+l),d&&"?"!==d[0]&&(d="?"+d),n=n.replace(/[?#]/g,encodeURIComponent),d=d.replace("#","%23"),`${s}${c}${n}${d}${l}`}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return l(e)}},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return n}});let s=e.r(71645);function n(e,t){let r=(0,s.useRef)(null),n=(0,s.useRef)(null);return(0,s.useCallback)(s=>{if(null===s){let e=r.current;e&&(r.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(r.current=a(e,s)),t&&(n.current=a(t,s))},[e,t])}function a(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={DecodeError:function(){return g},MiddlewareNotFoundError:function(){return v},MissingStaticPage:function(){return j},NormalizeError:function(){return y},PageNotFoundError:function(){return b},SP:function(){return p},ST:function(){return x},WEB_VITALS:function(){return a},execOnce:function(){return i},getDisplayName:function(){return u},getLocationOrigin:function(){return c},getURL:function(){return d},isAbsoluteUrl:function(){return o},isResSent:function(){return h},loadGetInitialProps:function(){return f},normalizeRepeatedSlashes:function(){return m},stringifyError:function(){return N}};for(var n in s)Object.defineProperty(r,n,{enumerable:!0,get:s[n]});let a=["CLS","FCP","FID","INP","LCP","TTFB"];function i(e){let t,r=!1;return(...s)=>(r||(r=!0,t=e(...s)),t)}let l=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,o=e=>l.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function d(){let{href:e}=window.location,t=c();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function h(e){return e.finished||e.headersSent}function m(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function f(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await f(t.Component,t.ctx)}:{};let s=await e.getInitialProps(t);if(r&&h(r))return s;if(!s)throw Object.defineProperty(Error(`"${u(e)}.getInitialProps()" should resolve to an object. But found "${s}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return s}let p="u">typeof performance,x=p&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class g extends Error{}class y extends Error{}class b extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class j extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class v extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function N(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return a}});let s=e.r(18967),n=e.r(52817);function a(e){if(!(0,s.isAbsoluteUrl)(e))return!0;try{let t=(0,s.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,n.hasBasePath)(r.pathname)}catch(e){return!1}}},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},22016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={default:function(){return g},useLinkStatus:function(){return b}};for(var n in s)Object.defineProperty(r,n,{enumerable:!0,get:s[n]});let a=e.r(90809),i=e.r(43476),l=a._(e.r(71645)),o=e.r(95057),c=e.r(8372),d=e.r(18581),u=e.r(18967),h=e.r(5550);e.r(33525);let m=e.r(91949),f=e.r(73668),p=e.r(9396);function x(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}function g(t){var r;let s,n,a,[o,g]=(0,l.useOptimistic)(m.IDLE_LINK_STATUS),b=(0,l.useRef)(null),{href:j,as:v,children:N,prefetch:w=null,passHref:C,replace:k,shallow:P,scroll:E,onClick:S,onMouseEnter:_,onTouchStart:L,legacyBehavior:M=!1,onNavigate:A,ref:R,unstable_dynamicOnHover:O,...I}=t;s=N,M&&("string"==typeof s||"number"==typeof s)&&(s=(0,i.jsx)("a",{children:s}));let T=l.default.useContext(c.AppRouterContext),$=!1!==w,F=!1!==w?null===(r=w)||"auto"===r?p.FetchStrategy.PPR:p.FetchStrategy.Full:p.FetchStrategy.PPR,{href:z,as:B}=l.default.useMemo(()=>{let e=x(j);return{href:e,as:v?x(v):e}},[j,v]);if(M){if(s?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});n=l.default.Children.only(s)}let U=M?n&&"object"==typeof n&&n.ref:R,D=l.default.useCallback(e=>(null!==T&&(b.current=(0,m.mountLinkInstance)(e,z,T,F,$,g)),()=>{b.current&&((0,m.unmountLinkForCurrentNavigation)(b.current),b.current=null),(0,m.unmountPrefetchableInstance)(e)}),[$,z,T,F,g]),q={ref:(0,d.useMergedRef)(D,U),onClick(t){M||"function"!=typeof S||S(t),M&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(t),!T||t.defaultPrevented||function(t,r,s,n,a,i,o){if("u">typeof window){let c,{nodeName:d}=t.currentTarget;if("A"===d.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,f.isLocalURL)(r)){a&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),o){let e=!1;if(o({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:u}=e.r(99781);l.default.startTransition(()=>{u(s||r,a?"replace":"push",i??!0,n.current)})}}(t,z,B,b,k,E,A)},onMouseEnter(e){M||"function"!=typeof _||_(e),M&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),T&&$&&(0,m.onNavigationIntent)(e.currentTarget,!0===O)},onTouchStart:function(e){M||"function"!=typeof L||L(e),M&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),T&&$&&(0,m.onNavigationIntent)(e.currentTarget,!0===O)}};return(0,u.isAbsoluteUrl)(B)?q.href=B:M&&!C&&("a"!==n.type||"href"in n.props)||(q.href=(0,h.addBasePath)(B)),a=M?l.default.cloneElement(n,q):(0,i.jsx)("a",{...I,...q,children:s}),(0,i.jsx)(y.Provider,{value:o,children:a})}e.r(84508);let y=(0,l.createContext)(m.IDLE_LINK_STATUS),b=()=>(0,l.useContext)(y);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},3265,84614,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(22016),n=e.i(75254);let a=(0,n.default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);var i=e.i(37727);let l=(0,n.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>l],84614);let o=(0,n.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),c=(0,n.default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),d=(0,n.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),u=(0,n.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var h=e.i(19455),m=e.i(75157),f=e.i(90615);e.s(["default",0,()=>{let[e,n]=(0,r.useState)(!1),[p,x]=(0,r.useState)(!1),[g,y]=(0,r.useState)(null),[b,j]=(0,r.useState)(null),[v,N]=(0,r.useState)(!1),w=(0,f.createClient)();(0,r.useEffect)(()=>{let e=()=>{n(window.scrollY>10)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,r.useEffect)(()=>{w.auth.getSession().then(({data:{session:e}})=>{y(e?.user??null),e?.user&&w.from("profiles").select("*").eq("id",e.user.id).single().then(({data:e})=>j(e))});let{data:{subscription:e}}=w.auth.onAuthStateChange((e,t)=>{y(t?.user??null),t?.user?w.from("profiles").select("*").eq("id",t.user.id).single().then(({data:e})=>j(e)):j(null)});return()=>e.unsubscribe()},[w]);let C=async()=>{await w.auth.signOut(),window.location.href="/"};return(0,t.jsxs)("nav",{className:(0,m.cn)("fixed top-0 left-0 right-0 z-50 transition-all duration-300",e?"bg-white/90 backdrop-blur-md shadow-sm py-4":"bg-transparent py-6"),children:[(0,t.jsxs)("div",{className:"container mx-auto px-4 md:px-6 flex items-center justify-between",children:[(0,t.jsxs)(s.default,{href:"/",className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-primary flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white font-bold text-xl",children:"P"})}),(0,t.jsx)("span",{className:(0,m.cn)("text-xl font-bold tracking-tight",e?"text-slate-800":"text-white"),children:"PerfectExpress"})]}),(0,t.jsx)("div",{className:"hidden md:flex items-center gap-8",children:["Services","Tracking","Company","Support"].map(r=>(0,t.jsx)(s.default,{href:`#${r.toLowerCase()}`,className:(0,m.cn)("text-sm font-medium transition-colors",e?"text-slate-600 hover:text-primary":"text-slate-300 hover:text-white"),children:r},r))}),(0,t.jsx)("div",{className:"hidden md:flex items-center gap-4",children:g?(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>N(!v),className:"flex items-center gap-2 px-3 py-2 rounded-full bg-primary hover:bg-primary/90 transition-colors",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center",children:(0,t.jsx)(l,{className:"w-4 h-4 text-white"})}),(0,t.jsx)("span",{className:"text-sm font-medium text-white max-w-[120px] truncate",children:b?.full_name||g.email?.split("@")[0]})]}),v&&(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-xl border border-slate-100 py-2 z-50",children:[b?.role!=="admin"&&(0,t.jsxs)(s.default,{href:"/dashboard",className:"flex items-center gap-3 px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 hover:text-primary",onClick:()=>N(!1),children:[(0,t.jsx)(c,{size:16}),"Dashboard"]}),b?.role==="admin"&&(0,t.jsxs)(s.default,{href:"/admin",className:"flex items-center gap-3 px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 hover:text-primary",onClick:()=>N(!1),children:[(0,t.jsx)(d,{size:16}),"Admin Panel"]}),(0,t.jsxs)(s.default,{href:"/profile",className:"flex items-center gap-3 px-4 py-2 text-sm text-slate-600 hover:bg-slate-50 hover:text-primary",onClick:()=>N(!1),children:[(0,t.jsx)(u,{size:16}),"Profile Settings"]}),(0,t.jsx)("hr",{className:"my-2 border-slate-100"}),(0,t.jsxs)("button",{onClick:C,className:"flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[(0,t.jsx)(o,{size:16}),"Sign Out"]})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.default,{href:"/auth/login",children:(0,t.jsx)(h.Button,{variant:"ghost",className:(0,m.cn)("font-semibold hover:bg-transparent",e?"text-slate-700 hover:text-primary":"text-white hover:text-primary"),children:"Log In"})}),(0,t.jsx)(s.default,{href:"/ship",children:(0,t.jsx)(h.Button,{children:"Get a Quote"})})]})}),(0,t.jsx)("button",{className:(0,m.cn)("md:hidden",e?"text-slate-800":"text-white"),onClick:()=>x(!p),children:p?(0,t.jsx)(i.X,{}):(0,t.jsx)(a,{})})]}),p&&(0,t.jsxs)("div",{className:"md:hidden absolute top-full left-0 right-0 bg-white border-b border-gray-100 p-4 flex flex-col gap-4 shadow-lg",children:[["Services","Tracking","Company","Support"].map(e=>(0,t.jsx)(s.default,{href:`#${e.toLowerCase()}`,className:"text-sm font-medium text-slate-600 hover:text-primary transition-colors py-2",onClick:()=>x(!1),children:e},e)),(0,t.jsx)("div",{className:"flex flex-col gap-3 mt-2",children:g?(0,t.jsxs)(t.Fragment,{children:[b?.role!=="admin"&&(0,t.jsx)(s.default,{href:"/dashboard",onClick:()=>x(!1),children:(0,t.jsxs)(h.Button,{variant:"ghost",className:"w-full justify-start text-slate-700 hover:text-primary",children:[(0,t.jsx)(c,{className:"mr-2",size:16}),"Dashboard"]})}),b?.role==="admin"&&(0,t.jsx)(s.default,{href:"/admin",onClick:()=>x(!1),children:(0,t.jsxs)(h.Button,{variant:"ghost",className:"w-full justify-start text-slate-700 hover:text-primary",children:[(0,t.jsx)(d,{className:"mr-2",size:16}),"Admin Panel"]})}),(0,t.jsx)(s.default,{href:"/profile",onClick:()=>x(!1),children:(0,t.jsxs)(h.Button,{variant:"ghost",className:"w-full justify-start text-slate-700 hover:text-primary",children:[(0,t.jsx)(u,{className:"mr-2",size:16}),"Profile Settings"]})}),(0,t.jsxs)(h.Button,{variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",onClick:C,children:[(0,t.jsx)(o,{className:"mr-2",size:16}),"Sign Out"]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.default,{href:"/auth/login",onClick:()=>x(!1),children:(0,t.jsx)(h.Button,{variant:"ghost",className:"w-full justify-start text-slate-700 hover:text-primary",children:"Log In"})}),(0,t.jsx)(s.default,{href:"/ship",onClick:()=>x(!1),children:(0,t.jsx)(h.Button,{className:"w-full",children:"Get a Quote"})})]})})]})]})}],3265)},88844,e=>{"use strict";let t=(0,e.i(75254).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>t],88844)},72520,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>t],72520)},82804,e=>{"use strict";var t=e.i(95187);let r=(0,t.createServerReference)("4023fc5c56a08eded849c2b60f98760867ea10f3a0",t.callServer,void 0,t.findSourceMapURL,"createShipment");e.s(["createShipment",()=>r])},73400,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(3265),n=e.i(46932);e.i(47167);var a=e.i(31178),i=e.i(47414),l=e.i(74008),o=e.i(21476),c=e.i(72846),d=r,u=e.i(37806);function h(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class m extends d.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,c.isHTMLElement)(e)&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function f({children:e,isPresent:s,anchorX:n,root:a}){let i=(0,d.useId)(),l=(0,d.useRef)(null),o=(0,d.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,d.useContext)(u.MotionConfigContext),f=function(...e){return r.useCallback(function(...e){return t=>{let r=!1,s=e.map(e=>{let s=h(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():h(e[t],null)}}}}(...e),e)}(l,e.props?.ref??e?.ref);return(0,d.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:d,right:u}=o.current;if(s||!l.current||!e||!t)return;let h="left"===n?`left: ${d}`:`right: ${u}`;l.current.dataset.motionPopId=i;let m=document.createElement("style");c&&(m.nonce=c);let f=a??document.head;return f.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${h}px !important;
            top: ${r}px !important;
          }
        `),()=>{f.contains(m)&&f.removeChild(m)}},[s]),(0,t.jsx)(m,{isPresent:s,childRef:l,sizeRef:o,children:d.cloneElement(e,{ref:f})})}let p=({children:e,initial:s,isPresent:n,onExitComplete:a,custom:l,presenceAffectsLayout:c,mode:d,anchorX:u,root:h})=>{let m=(0,i.useConstant)(x),p=(0,r.useId)(),g=!0,y=(0,r.useMemo)(()=>(g=!1,{id:p,initial:s,isPresent:n,custom:l,onExitComplete:e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;a&&a()},register:e=>(m.set(e,!1),()=>m.delete(e))}),[n,m,a]);return c&&g&&(y={...y}),(0,r.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[n]),r.useEffect(()=>{n||m.size||!a||a()},[n]),"popLayout"===d&&(e=(0,t.jsx)(f,{isPresent:n,anchorX:u,root:h,children:e})),(0,t.jsx)(o.PresenceContext.Provider,{value:y,children:e})};function x(){return new Map}var g=e.i(64978);let y=e=>e.key||"";function b(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let j=({children:e,custom:s,initial:n=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:d="sync",propagate:u=!1,anchorX:h="left",root:m})=>{let[f,x]=(0,g.usePresence)(u),j=(0,r.useMemo)(()=>b(e),[e]),v=u&&!f?[]:j.map(y),N=(0,r.useRef)(!0),w=(0,r.useRef)(j),C=(0,i.useConstant)(()=>new Map),k=(0,r.useRef)(new Set),[P,E]=(0,r.useState)(j),[S,_]=(0,r.useState)(j);(0,l.useIsomorphicLayoutEffect)(()=>{N.current=!1,w.current=j;for(let e=0;e<S.length;e++){let t=y(S[e]);v.includes(t)?(C.delete(t),k.current.delete(t)):!0!==C.get(t)&&C.set(t,!1)}},[S,v.length,v.join("-")]);let L=[];if(j!==P){let e=[...j];for(let t=0;t<S.length;t++){let r=S[t],s=y(r);v.includes(s)||(e.splice(t,0,r),L.push(r))}return"wait"===d&&L.length&&(e=L),_(b(e)),E(j),null}let{forceRender:M}=(0,r.useContext)(a.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:S.map(e=>{let r=y(e),a=(!u||!!f)&&(j===S||v.includes(r));return(0,t.jsx)(p,{isPresent:a,initial:(!N.current||!!n)&&void 0,custom:s,presenceAffectsLayout:c,mode:d,root:m,onExitComplete:a?void 0:()=>{if(k.current.has(r)||(k.current.add(r),!C.has(r)))return;C.set(r,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(M?.(),_(w.current),u&&x?.(),o&&o())},anchorX:h,children:e},r)})})};var v=e.i(72520),N=e.i(75254);let w=(0,N.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var C=e.i(88844),k=e.i(84614);let P=(0,N.default)("scale",[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]]);var E=e.i(31278),S=e.i(19455),_=e.i(55593),L=e.i(10204),M=e.i(15288),A=e.i(46696),R=e.i(18566),O=e.i(82804);let I=[{id:1,title:"Parties",icon:k.User},{id:2,title:"Parcel",icon:P},{id:3,title:"Review",icon:w}];function T(){let e=(0,R.useRouter)(),[a,i]=(0,r.useTransition)(),[l,o]=(0,r.useState)(1),[c,d]=(0,r.useState)({senderName:"",senderEmail:"",senderAddress:"",receiverName:"",receiverEmail:"",receiverAddress:"",weight:"",height:"",width:"",length:"",description:""}),u=e=>{let{name:t,value:r}=e.target;d(e=>({...e,[t]:r}))};return(0,t.jsxs)("div",{className:"min-h-screen bg-background text-foreground pb-20 relative overflow-hidden",children:[(0,t.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full -z-10 overflow-hidden pointer-events-none",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-primary/5 rounded-full blur-3xl opacity-30"}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-blue-500/5 rounded-full blur-3xl opacity-30"})]}),(0,t.jsx)(s.default,{}),(0,t.jsxs)("main",{className:"container mx-auto px-4 pt-32 max-w-3xl",children:[(0,t.jsxs)("div",{className:"mb-10 text-center sm:text-left",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2 text-secondary",children:"Create New Shipment"}),(0,t.jsx)("p",{className:"text-slate-500",children:"Fill in the details below to schedule a seamless pickup."})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-12 relative max-w-xl mx-auto sm:mx-0",children:[(0,t.jsx)("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-full h-0.5 bg-slate-200 -z-10"}),I.map(e=>{let r=e.id===l,s=e.id<l;return(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2 bg-background px-2 z-10",children:[(0,t.jsx)("div",{className:`
                   h-10 w-10 rounded-full flex items-center justify-center border-2 transition-all duration-300 shadow-sm
                   ${r?"border-primary bg-primary text-white scale-110 shadow-primary/25":s?"border-primary bg-primary text-white":"border-slate-200 bg-white text-slate-400"}
                 `,children:(0,t.jsx)(e.icon,{className:"h-5 w-5"})}),(0,t.jsx)("span",{className:`text-xs font-semibold uppercase tracking-wider ${r?"text-primary":"text-slate-400"}`,children:e.title})]},e.id)})]}),(0,t.jsxs)(M.Card,{className:"glass border-0 shadow-2xl overflow-hidden",children:[(0,t.jsx)(M.CardContent,{className:"p-6 sm:p-10",children:(0,t.jsxs)(j,{mode:"wait",children:[1===l&&(0,t.jsx)(n.motion.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},className:"space-y-8",children:(0,t.jsxs)("div",{className:"grid sm:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"space-y-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 text-secondary font-semibold border-b border-slate-100 pb-2",children:[(0,t.jsx)("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center text-primary text-sm",children:"A"}),"Sender Details"]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(L.Label,{htmlFor:"senderName",children:"Full Name *"}),(0,t.jsx)(_.Input,{id:"senderName",name:"senderName",placeholder:"John Doe",value:c.senderName,onChange:u,className:"bg-white/50",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(L.Label,{htmlFor:"senderEmail",children:"Email"}),(0,t.jsx)(_.Input,{id:"senderEmail",name:"senderEmail",type:"email",placeholder:"john@example.com",value:c.senderEmail,onChange:u,className:"bg-white/50"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(L.Label,{htmlFor:"senderAddress",children:"Address"}),(0,t.jsx)(_.Input,{id:"senderAddress",name:"senderAddress",placeholder:"123 Sender St, NYC",value:c.senderAddress,onChange:u,className:"bg-white/50"})]})]}),(0,t.jsxs)("div",{className:"space-y-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 text-secondary font-semibold border-b border-slate-100 pb-2",children:[(0,t.jsx)("div",{className:"h-8 w-8 rounded-full bg-blue-500/10 flex items-center justify-center text-blue-600 text-sm",children:"B"}),"Receiver Details"]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(L.Label,{htmlFor:"receiverName",children:"Full Name *"}),(0,t.jsx)(_.Input,{id:"receiverName",name:"receiverName",placeholder:"Jane Smith",value:c.receiverName,onChange:u,className:"bg-white/50",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(L.Label,{htmlFor:"receiverEmail",children:"Email"}),(0,t.jsx)(_.Input,{id:"receiverEmail",name:"receiverEmail",type:"email",placeholder:"jane@example.com",value:c.receiverEmail,onChange:u,className:"bg-white/50"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(L.Label,{htmlFor:"receiverAddress",children:"Address"}),(0,t.jsx)(_.Input,{id:"receiverAddress",name:"receiverAddress",placeholder:"456 Receiver Ave, LA",value:c.receiverAddress,onChange:u,className:"bg-white/50"})]})]})]})},"step1"),2===l&&(0,t.jsx)(n.motion.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},className:"space-y-6",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 font-semibold text-secondary text-lg border-b border-slate-100 pb-2",children:[(0,t.jsx)(C.Package,{className:"h-5 w-5 text-primary"}),"Parcel Information"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(L.Label,{htmlFor:"weight",children:"Weight (kg) *"}),(0,t.jsx)(_.Input,{id:"weight",name:"weight",type:"number",placeholder:"0.0",value:c.weight,onChange:u,className:"bg-white/50",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(L.Label,{htmlFor:"length",children:"Length (cm)"}),(0,t.jsx)(_.Input,{id:"length",name:"length",type:"number",placeholder:"0",value:c.length,onChange:u,className:"bg-white/50"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(L.Label,{htmlFor:"width",children:"Width (cm)"}),(0,t.jsx)(_.Input,{id:"width",name:"width",type:"number",placeholder:"0",value:c.width,onChange:u,className:"bg-white/50"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(L.Label,{htmlFor:"height",children:"Height (cm)"}),(0,t.jsx)(_.Input,{id:"height",name:"height",type:"number",placeholder:"0",value:c.height,onChange:u,className:"bg-white/50"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(L.Label,{htmlFor:"description",children:"Description of Contents"}),(0,t.jsx)(_.Input,{id:"description",name:"description",placeholder:"Electronics, Clothes, etc.",value:c.description,onChange:u,className:"bg-white/50"})]})]})},"step2"),3===l&&(0,t.jsxs)(n.motion.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4 text-center",children:[(0,t.jsx)("div",{className:"h-16 w-16 mx-auto bg-green-500/10 rounded-full flex items-center justify-center text-green-600 mb-4 ring-8 ring-green-500/5",children:(0,t.jsx)(w,{className:"h-8 w-8"})}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-secondary",children:"Ready to Ship?"}),(0,t.jsx)("p",{className:"text-slate-500 max-w-md mx-auto",children:"Please review the details below. Once submitted, you will receive a tracking ID to monitor your package."})]}),(0,t.jsxs)("div",{className:"bg-slate-50/50 rounded-xl p-6 space-y-4 text-sm border border-slate-200",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center border-b border-slate-100 pb-3",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"From"}),(0,t.jsx)("span",{className:"font-medium text-secondary",children:c.senderName||"Not specified"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center border-b border-slate-100 pb-3",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"To"}),(0,t.jsx)("span",{className:"font-medium text-secondary",children:c.receiverName||"Not specified"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center border-b border-slate-100 pb-3",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Package"}),(0,t.jsxs)("span",{className:"font-medium text-secondary",children:[c.weight,"kg",c.length&&c.width&&c.height&&` (${c.length}x${c.width}x${c.height}cm)`]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center border-b border-slate-100 pb-3",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Contents"}),(0,t.jsx)("span",{className:"font-medium text-secondary",children:c.description||"Not specified"})]})]})]},"step3")]})}),(0,t.jsxs)(M.CardFooter,{className:"flex justify-between p-6 sm:p-10 pt-0 bg-transparent",children:[(0,t.jsx)(S.Button,{variant:"ghost",onClick:()=>o(e=>Math.max(e-1,1)),disabled:1===l||a,className:"text-slate-500 hover:text-secondary hover:bg-slate-100",children:"Back"}),l<3?(0,t.jsxs)(S.Button,{onClick:()=>o(e=>Math.min(e+1,3)),className:"bg-primary hover:bg-primary/90 text-white rounded-full px-8",children:["Continue ",(0,t.jsx)(v.ArrowRight,{className:"ml-2 h-4 w-4"})]}):(0,t.jsx)(S.Button,{onClick:()=>{c.senderName&&c.receiverName&&c.weight?i(async()=>{let t={sender_name:c.senderName,sender_email:c.senderEmail,sender_address:c.senderAddress,receiver_name:c.receiverName,receiver_email:c.receiverEmail,receiver_address:c.receiverAddress,parcel_description:c.description,parcel_weight:c.weight},r=await (0,O.createShipment)(t);r.error?A.toast.error(r.error):(A.toast.success("Shipment Created Successfully!",{description:`Tracking ID: ${r.tracking_number}`}),setTimeout(()=>{e.push(`/track/${r.tracking_number}`)},1500))}):A.toast.error("Please fill in all required fields")},disabled:a,className:"bg-green-600 hover:bg-green-700 text-white shadow-lg shadow-green-500/20 rounded-full px-8",children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(E.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Shipment"})]})]})]})]})}e.s(["default",()=>T],73400)}]);