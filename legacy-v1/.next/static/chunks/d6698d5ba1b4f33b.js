(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72906,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(95187);let l=(0,t.createServerReference)("40f774832d930e6fd97dcc43c7a3b100de39254f6f",t.callServer,void 0,t.findSourceMapURL,"getAllShipments"),r=(0,t.createServerReference)("700b4acd3fed7b1790c2e227d5433578c2c24fced0",t.callServer,void 0,t.findSourceMapURL,"logShipmentEvent"),i=(0,t.createServerReference)("60b70e5d345c1c55c9d51722a54eb4d029e2319f13",t.callServer,void 0,t.findSourceMapURL,"updateShipment"),n=(0,t.createServerReference)("40fd6e93b39dd985ae1380e80e499a16e9295b960a",t.callServer,void 0,t.findSourceMapURL,"deleteShipment"),c=(0,t.createServerReference)("4051a4397eb60e9ba5a9a49de7c6c95252495f2856",t.callServer,void 0,t.findSourceMapURL,"getAllUsers"),d=(0,t.createServerReference)("60b3c0ea9a339b5dc43eee9dcc5f415c9bd8e467ec",t.callServer,void 0,t.findSourceMapURL,"updateUserRole"),o=(0,t.createServerReference)("4092472c94f9fd42775606cd47ff12f60047ee17bb",t.callServer,void 0,t.findSourceMapURL,"createUser");var m=e.i(82804),x=e.i(8495),h=e.i(19455),p=e.i(55593),u=e.i(10204),g=e.i(15288),j=e.i(87486),N=e.i(84774),v=e.i(76639),b=e.i(46696),f=e.i(3265),y=e.i(55436),w=e.i(16715),C=e.i(12426),_=e.i(46897),S=e.i(7233),D=e.i(75254);let k=(0,D.default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),L=(0,D.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);var T=e.i(31278),A=e.i(88844),B=e.i(15788),I=e.i(69638),R=e.i(84614),z=e.i(63488),U=e.i(86536);let M=(0,D.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var H=e.i(53475),P=e.i(84127);let E=["pending","quoted","confirmed","in-transit","out-for-delivery","delivered","held","cancelled"];function F(){let[e,t]=(0,a.useState)([]),[D,F]=(0,a.useState)(""),[O,$]=(0,a.useTransition)(),[q,V]=(0,a.useState)(!0),[W,J]=(0,a.useState)(null),[K,Q]=(0,a.useState)(!1),[G,X]=(0,a.useState)("in-transit"),[Y,Z]=(0,a.useState)(""),[ee,es]=(0,a.useState)(""),[ea,et]=(0,a.useState)(""),[el,er]=(0,a.useState)(!1),[ei,en]=(0,a.useState)(!1),[ec,ed]=(0,a.useState)({sender_name:"",sender_email:"",sender_address:"",receiver_name:"",receiver_email:"",receiver_address:"",parcel_description:"",parcel_weight:""}),[eo,em]=(0,a.useState)(!1),[ex,eh]=(0,a.useState)(""),[ep,eu]=(0,a.useState)(!1),[eg,ej]=(0,a.useState)(""),[eN,ev]=(0,a.useState)(null),[eb,ef]=(0,a.useState)(!1),[ey,ew]=(0,a.useState)("Lagos Logistics Center"),[eC,e_]=(0,a.useState)(!1),[eS,eD]=(0,a.useState)(!1),[ek,eL]=(0,a.useState)(null),[eT,eA]=(0,a.useState)(!1),[eB,eI]=(0,a.useState)({}),[eR,ez]=(0,a.useState)("shipments"),[eU,eM]=(0,a.useState)([]),[eH,eP]=(0,a.useState)(!1),[eE,eF]=(0,a.useState)({email:"",password:"",fullName:"",role:"user"}),eO=async()=>{V(!0),t(await l()),V(!1)},e$=async()=>{V(!0),eM(await c()),V(!1)};(0,a.useEffect)(()=>{eO(),e$()},[]);let eq=(0,a.useCallback)(e=>{t(s=>[e,...s])},[]),eV=(0,a.useCallback)(e=>{t(s=>s.map(s=>s.id===e.id?e:s))},[]),eW=(0,a.useCallback)(e=>{t(s=>s.filter(s=>s.id!==e.id))},[]);(0,x.useRealtimeShipments)({onInsert:eq,onUpdate:eV,onDelete:eW,showToasts:!0});let eJ=(e,s)=>{$(async()=>{let a=await d(e,s);a.error?b.toast.error(a.error):(b.toast.success("User role updated"),e$())})},eK=e.filter(e=>e.tracking_number?.toLowerCase().includes(D.toLowerCase())||e.receiver_info?.name?.toLowerCase().includes(D.toLowerCase())||e.sender_info?.name?.toLowerCase().includes(D.toLowerCase())),eQ={total:e.length,delivered:e.filter(e=>"delivered"===e.status).length,active:e.filter(e=>["pending","quoted","confirmed","in-transit","out-for-delivery"].includes(e.status||"")).length,paid:e.filter(e=>"paid"===e.payment_status).length},eG=e=>{switch(e){case"pending":default:return"border-slate-500 text-slate-600 bg-slate-50";case"quoted":return"border-orange-500 text-orange-600 bg-orange-50";case"confirmed":return"border-purple-500 text-purple-600 bg-purple-50";case"in-transit":return"border-blue-500 text-blue-600 bg-blue-50";case"out-for-delivery":return"border-yellow-500 text-yellow-600 bg-yellow-50";case"delivered":return"border-green-500 text-green-600 bg-green-50";case"held":return"border-red-500 text-red-600 bg-red-50";case"cancelled":return"border-gray-500 text-gray-600 bg-gray-50"}};return(0,s.jsxs)("div",{className:"min-h-screen bg-background text-foreground relative",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-primary/5 rounded-full blur-3xl opacity-30 pointer-events-none"}),(0,s.jsx)(f.default,{}),(0,s.jsxs)("main",{className:"container mx-auto px-4 pt-32 pb-20",children:[(0,s.jsx)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-8 gap-4",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-secondary",children:"Admin Dashboard"}),(0,s.jsxs)("span",{className:"flex items-center gap-1.5 px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:[(0,s.jsx)(H.Wifi,{size:12,className:"animate-pulse"}),"Live"]})]}),(0,s.jsx)("p",{className:"text-slate-500",children:"Manage deliveries, update statuses, and track shipments."})]})}),(0,s.jsx)(P.default,{activeTab:eR,onTabChange:ez}),"shipments"===eR?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex justify-end gap-2 mb-6",children:[(0,s.jsxs)(h.Button,{variant:"outline",onClick:eO,disabled:q,children:[(0,s.jsx)(w.RefreshCw,{className:`mr-2 h-4 w-4 ${q?"animate-spin":""}`}),"Refresh"]}),(0,s.jsxs)(v.Dialog,{open:ei,onOpenChange:en,children:[(0,s.jsx)(v.DialogTrigger,{asChild:!0,children:(0,s.jsxs)(h.Button,{className:"bg-primary hover:bg-primary/90 text-white rounded-full shadow-lg shadow-primary/20",children:[(0,s.jsx)(S.Plus,{className:"mr-2 h-4 w-4"}),"New Shipment"]})}),(0,s.jsxs)(v.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(v.DialogHeader,{children:[(0,s.jsxs)(v.DialogTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(A.Package,{className:"text-primary"}),"Create New Shipment"]}),(0,s.jsx)(v.DialogDescription,{children:"Fill in the details below to create a new shipment."})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 py-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h3",{className:"font-semibold border-b pb-2",children:"Sender"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.Label,{children:"Name"}),(0,s.jsx)(p.Input,{value:ec.sender_name,onChange:e=>ed(s=>({...s,sender_name:e.target.value})),placeholder:"Sender Name"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.Label,{children:"Email"}),(0,s.jsx)(p.Input,{value:ec.sender_email,onChange:e=>ed(s=>({...s,sender_email:e.target.value})),placeholder:"Sender Email",type:"email"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.Label,{children:"Address"}),(0,s.jsx)(p.Input,{value:ec.sender_address,onChange:e=>ed(s=>({...s,sender_address:e.target.value})),placeholder:"Sender Address"})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h3",{className:"font-semibold border-b pb-2",children:"Receiver"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.Label,{children:"Name"}),(0,s.jsx)(p.Input,{value:ec.receiver_name,onChange:e=>ed(s=>({...s,receiver_name:e.target.value})),placeholder:"Receiver Name"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.Label,{children:"Email"}),(0,s.jsx)(p.Input,{value:ec.receiver_email,onChange:e=>ed(s=>({...s,receiver_email:e.target.value})),placeholder:"Receiver Email",type:"email"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.Label,{children:"Address"}),(0,s.jsx)(p.Input,{value:ec.receiver_address,onChange:e=>ed(s=>({...s,receiver_address:e.target.value})),placeholder:"Receiver Address"})]})]}),(0,s.jsxs)("div",{className:"md:col-span-2 space-y-3",children:[(0,s.jsx)("h3",{className:"font-semibold border-b pb-2",children:"Parcel"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.Label,{children:"Weight (kg)"}),(0,s.jsx)(p.Input,{value:ec.parcel_weight,onChange:e=>ed(s=>({...s,parcel_weight:e.target.value})),placeholder:"e.g. 2.5"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.Label,{children:"Description"}),(0,s.jsx)(p.Input,{value:ec.parcel_description,onChange:e=>ed(s=>({...s,parcel_description:e.target.value})),placeholder:"e.g. Electronics"})]})]})]})]}),(0,s.jsxs)(v.DialogFooter,{children:[(0,s.jsx)(v.DialogClose,{asChild:!0,children:(0,s.jsx)(h.Button,{variant:"outline",children:"Cancel"})}),(0,s.jsxs)(h.Button,{onClick:()=>{$(async()=>{let e=await (0,m.createShipment)(ec);e.error?b.toast.error(e.error):(b.toast.success(`Shipment created! ID: ${e.tracking_number}`),en(!1),ed({sender_name:"",sender_email:"",sender_address:"",receiver_name:"",receiver_email:"",receiver_address:"",parcel_description:"",parcel_weight:""}),eO())})},disabled:O,children:[O?(0,s.jsx)(T.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsx)(S.Plus,{className:"mr-2 h-4 w-4"}),"Create"]})]})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,s.jsxs)(g.Card,{className:"glass border-0 shadow-lg",children:[(0,s.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(g.CardTitle,{className:"text-sm font-medium text-slate-500",children:"Total Shipments"}),(0,s.jsx)(A.Package,{className:"h-4 w-4 text-slate-400"})]}),(0,s.jsx)(g.CardContent,{children:(0,s.jsx)("div",{className:"text-2xl font-bold text-secondary",children:eQ.total})})]}),(0,s.jsxs)(g.Card,{className:"glass border-0 shadow-lg",children:[(0,s.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(g.CardTitle,{className:"text-sm font-medium text-slate-500",children:"Active Deliveries"}),(0,s.jsx)(B.Truck,{className:"h-4 w-4 text-primary"})]}),(0,s.jsx)(g.CardContent,{children:(0,s.jsx)("div",{className:"text-2xl font-bold text-primary",children:eQ.active})})]}),(0,s.jsxs)(g.Card,{className:"glass border-0 shadow-lg",children:[(0,s.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(g.CardTitle,{className:"text-sm font-medium text-slate-500",children:"Delivered"}),(0,s.jsx)(I.CheckCircle,{className:"h-4 w-4 text-green-500"})]}),(0,s.jsx)(g.CardContent,{children:(0,s.jsx)("div",{className:"text-2xl font-bold text-green-500",children:eQ.delivered})})]}),(0,s.jsxs)(g.Card,{className:"glass border-0 shadow-lg",children:[(0,s.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(g.CardTitle,{className:"text-sm font-medium text-slate-500",children:"Paid Orders"}),(0,s.jsx)(C.DollarSign,{className:"h-4 w-4 text-slate-400"})]}),(0,s.jsx)(g.CardContent,{children:(0,s.jsx)("div",{className:"text-2xl font-bold text-secondary",children:eQ.paid})})]})]}),(0,s.jsxs)(g.Card,{className:"glass border-0 shadow-lg overflow-hidden",children:[(0,s.jsx)(g.CardHeader,{className:"border-b border-slate-100 bg-slate-50/30",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(g.CardTitle,{className:"text-secondary",children:"All Shipments"}),(0,s.jsxs)(g.CardDescription,{className:"text-slate-500",children:[eK.length," shipments found"]})]}),(0,s.jsxs)("div",{className:"relative w-full sm:w-auto",children:[(0,s.jsx)(y.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,s.jsx)(p.Input,{placeholder:"Search by ID, sender, or receiver...",className:"pl-9 w-full sm:w-[300px] bg-white border-slate-200",value:D,onChange:e=>F(e.target.value)})]})]})}),(0,s.jsx)(g.CardContent,{className:"p-0",children:(0,s.jsx)("div",{className:"overflow-auto max-h-[500px]",children:(0,s.jsxs)("table",{className:"w-full min-w-[1000px] border-collapse",children:[(0,s.jsx)("thead",{className:"bg-slate-50 sticky top-0 z-10",children:(0,s.jsxs)("tr",{className:"border-b border-slate-100",children:[(0,s.jsx)("th",{className:"text-left text-slate-500 font-semibold px-4 py-3 min-w-[130px]",children:"Tracking ID"}),(0,s.jsx)("th",{className:"text-left text-slate-500 font-semibold px-4 py-3 min-w-[180px]",children:"Sender / Receiver"}),(0,s.jsx)("th",{className:"text-left text-slate-500 font-semibold px-4 py-3 min-w-[130px]",children:"Status"}),(0,s.jsx)("th",{className:"text-left text-slate-500 font-semibold px-4 py-3 min-w-[100px]",children:"Payment"}),(0,s.jsx)("th",{className:"text-left text-slate-500 font-semibold px-4 py-3 min-w-[160px]",children:"Location"}),(0,s.jsx)("th",{className:"text-left text-slate-500 font-semibold px-4 py-3 min-w-[110px]",children:"Created"}),(0,s.jsx)("th",{className:"text-right text-slate-500 font-semibold px-4 py-3 min-w-[130px]",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:q?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:7,className:"text-center py-20",children:(0,s.jsx)(T.Loader2,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"})})}):0===eK.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:7,className:"text-center py-20 text-muted-foreground",children:"No shipments found."})}):eK.map(e=>(0,s.jsxs)("tr",{className:"border-b border-slate-100 hover:bg-slate-50/50 transition-colors cursor-pointer",onClick:()=>{eL(e),eD(!0)},children:[(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsx)("span",{className:"font-mono font-bold text-primary hover:underline",children:e.tracking_number})}),(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("p",{className:"font-medium text-secondary",children:e.sender_info?.name||"N/A"}),(0,s.jsxs)("p",{className:"text-slate-500",children:["→ ",e.receiver_info?.name||"N/A"]})]})}),(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsx)(j.Badge,{variant:"outline",className:`uppercase font-medium ${eG(e.status)}`,children:e.status})}),(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsxs)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${"paid"===e.payment_status?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:[(0,s.jsx)(C.DollarSign,{size:12,className:"mr-1"}),e.payment_status]})}),(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(_.MapPin,{size:14,className:"text-slate-400"}),(0,s.jsx)("span",{className:"text-sm text-slate-500 truncate max-w-[140px]",children:e.current_location||"—"})]})}),(0,s.jsx)("td",{className:"px-4 py-3 text-sm text-slate-500",children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"}),(0,s.jsx)("td",{className:"px-4 py-3 text-right",onClick:e=>e.stopPropagation(),children:"pending"!==e.status||e.price?"quoted"===e.status?(0,s.jsxs)(h.Button,{size:"sm",variant:"outline",className:"border-green-600 text-green-700 hover:bg-green-50 w-full",onClick:()=>{J(e),e_(!0)},children:[(0,s.jsx)(C.DollarSign,{size:14,className:"mr-1"}),"Confirm Payment"]}):"confirmed"===e.status?(0,s.jsxs)(h.Button,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white w-full",onClick:()=>{J(e),ef(!0)},children:[(0,s.jsx)(B.Truck,{size:14,className:"mr-1"}),"Dispatch"]}):"in-transit"===e.status||"out-for-delivery"===e.status?(0,s.jsxs)(h.Button,{size:"sm",variant:"outline",className:"w-full",onClick:()=>{J(e),X(e.status||"in-transit"),Z(e.current_location||""),et(""),Q(!0)},children:[(0,s.jsx)(k,{size:14,className:"mr-1"}),"Update Status"]}):"held"===e.status?(0,s.jsxs)(h.Button,{size:"sm",variant:"outline",className:"border-red-500 text-red-600 hover:bg-red-50 w-full",onClick:()=>{J(e),X("in-transit"),Z(e.current_location||""),Q(!0)},children:[(0,s.jsx)(k,{size:14,className:"mr-1"}),"Release / Update"]}):"delivered"===e.status?(0,s.jsxs)(j.Badge,{className:"bg-green-100 text-green-700 border-0",children:[(0,s.jsx)(I.CheckCircle,{size:14,className:"mr-1"}),"Completed"]}):"cancelled"===e.status?(0,s.jsx)(j.Badge,{className:"bg-gray-100 text-gray-600 border-0",children:"Cancelled"}):(0,s.jsx)(h.Button,{size:"sm",variant:"ghost",className:"w-full text-slate-500",onClick:()=>{J(e),X(e.status||"pending"),Z(e.current_location||""),Q(!0)},children:"View / Edit"}):(0,s.jsx)(h.Button,{size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white w-full",onClick:()=>{ev(e.id),eu(!0)},children:"Review & Quote"})})]},e.id))})]})})})]})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center bg-white p-4 rounded-lg shadow-sm border border-slate-100",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-secondary",children:"User Accounts"}),(0,s.jsx)("p",{className:"text-sm text-slate-500",children:"Manage admins and standard users"})]}),(0,s.jsxs)(h.Button,{className:"bg-primary hover:bg-primary/90 text-white",onClick:()=>eP(!0),children:[(0,s.jsx)(S.Plus,{className:"mr-2 h-4 w-4"}),"Create Account"]})]}),(0,s.jsx)(g.Card,{className:"glass border-0 shadow-lg overflow-hidden",children:(0,s.jsx)(g.CardContent,{className:"p-0",children:(0,s.jsxs)(N.Table,{children:[(0,s.jsx)(N.TableHeader,{className:"bg-slate-50",children:(0,s.jsxs)(N.TableRow,{className:"border-slate-100",children:[(0,s.jsx)(N.TableHead,{className:"text-slate-500 font-semibold",children:"User"}),(0,s.jsx)(N.TableHead,{className:"text-slate-500 font-semibold",children:"Email"}),(0,s.jsx)(N.TableHead,{className:"text-slate-500 font-semibold",children:"Role"}),(0,s.jsx)(N.TableHead,{className:"text-slate-500 font-semibold",children:"Joined"}),(0,s.jsx)(N.TableHead,{className:"text-right text-slate-500 font-semibold",children:"Actions"})]})}),(0,s.jsxs)(N.TableBody,{children:[eU.map(e=>(0,s.jsxs)(N.TableRow,{className:"border-slate-100",children:[(0,s.jsx)(N.TableCell,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"h-8 w-8 rounded-full bg-slate-100 flex items-center justify-center text-slate-500 font-bold",children:e.full_name?.charAt(0)||"U"}),(0,s.jsx)("span",{className:"font-medium text-secondary",children:e.full_name||"N/A"})]})}),(0,s.jsx)(N.TableCell,{className:"text-slate-500",children:e.email}),(0,s.jsx)(N.TableCell,{children:(0,s.jsx)(j.Badge,{variant:"admin"===e.role?"default":"secondary",className:"admin"===e.role?"bg-purple-100 text-purple-700 hover:bg-purple-200":"bg-slate-100 text-slate-600",children:e.role})}),(0,s.jsx)(N.TableCell,{className:"text-slate-500 text-sm",children:new Date(e.created_at).toLocaleDateString()}),(0,s.jsx)(N.TableCell,{className:"text-right",children:"admin"===e.role?(0,s.jsx)(h.Button,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>eJ(e.id,"user"),children:"Revoke Admin"}):(0,s.jsx)(h.Button,{variant:"ghost",size:"sm",className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",onClick:()=>eJ(e.id,"admin"),children:"Make Admin"})})]},e.id)),0===eU.length&&(0,s.jsx)(N.TableRow,{children:(0,s.jsx)(N.TableCell,{colSpan:5,className:"text-center py-10 text-slate-400",children:"No users found"})})]})]})})})]}),(0,s.jsx)(v.Dialog,{open:K,onOpenChange:Q,children:(0,s.jsxs)(v.DialogContent,{className:"glass border-0 shadow-2xl",children:[(0,s.jsxs)(v.DialogHeader,{children:[(0,s.jsx)(v.DialogTitle,{className:"text-secondary",children:"Log Shipment Event"}),(0,s.jsxs)(v.DialogDescription,{className:"text-slate-300",children:["Record a new status update for shipment ",W?.tracking_number]})]}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.Label,{className:"text-white font-medium",children:"Status"}),(0,s.jsx)("select",{className:"w-full h-10 rounded-md border border-slate-200 bg-white text-slate-800 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:G,onChange:e=>X(e.target.value),children:E.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.Label,{className:"text-white font-medium",children:"Location"}),(0,s.jsx)(p.Input,{placeholder:"e.g. Lagos Distribution Center",value:Y,onChange:e=>Z(e.target.value),className:"bg-white text-slate-800 placeholder:text-slate-400"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.Label,{className:"text-white font-medium",children:"Note (Optional)"}),(0,s.jsx)(p.Input,{placeholder:"Add any relevant notes...",value:ee,onChange:e=>es(e.target.value),className:"bg-white text-slate-800 placeholder:text-slate-400"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.Label,{className:"text-white font-medium",children:"Map Link (Optional)"}),(0,s.jsx)(p.Input,{placeholder:"Paste Google Maps or location URL...",value:ea,onChange:e=>et(e.target.value),className:"bg-white text-slate-800 placeholder:text-slate-400"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 pt-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"notifyUser",checked:el,onChange:e=>er(e.target.checked),className:"w-4 h-4 rounded border-slate-300 text-primary focus:ring-primary"}),(0,s.jsxs)(u.Label,{htmlFor:"notifyUser",className:"flex items-center gap-2 cursor-pointer text-slate-300",children:[(0,s.jsx)(L,{size:16,className:"text-primary"}),"Notify User via Email"]})]})]}),(0,s.jsxs)(v.DialogFooter,{children:[(0,s.jsx)(v.DialogClose,{asChild:!0,children:(0,s.jsx)(h.Button,{variant:"outline",className:"border-slate-200",children:"Cancel"})}),(0,s.jsxs)(h.Button,{onClick:()=>{W&&$(async()=>{let e=ee;ea&&(e=e?`${e} | Map: ${ea}`:`Map: ${ea}`);let s=await r(W.id,{status:G,location:Y,note:e},el);s.error?b.toast.error(s.error):(b.toast.success(`Status updated${el?" & user notified":""}`),Q(!1),Z(""),es(""),et(""),er(!1),eO())})},disabled:O||!Y,className:"bg-primary hover:bg-primary/90 text-white rounded-full",children:[O?(0,s.jsx)(T.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Log Event"]})]})]})}),(0,s.jsx)(v.Dialog,{open:eb,onOpenChange:ef,children:(0,s.jsxs)(v.DialogContent,{className:"glass border-0 shadow-2xl",children:[(0,s.jsxs)(v.DialogHeader,{children:[(0,s.jsxs)(v.DialogTitle,{className:"text-secondary flex items-center gap-2",children:[(0,s.jsx)(B.Truck,{className:"text-primary"}),"Dispatch Shipment"]}),(0,s.jsxs)(v.DialogDescription,{className:"text-slate-300",children:["Start the journey for shipment ",W?.tracking_number]})]}),(0,s.jsxs)("div",{className:"py-4 space-y-4",children:[(0,s.jsxs)("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/10",children:[(0,s.jsx)("p",{className:"text-sm text-primary font-medium",children:"This action will:"}),(0,s.jsxs)("ul",{className:"list-disc list-inside text-sm text-slate-600 mt-2 space-y-1",children:[(0,s.jsxs)("li",{children:["Set status to ",(0,s.jsx)("strong",{children:"In-Transit"})]}),(0,s.jsx)("li",{children:"Mark current location as Origin"}),(0,s.jsx)("li",{children:"Notify the customer (Mock)"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u.Label,{className:"text-white font-medium",children:"Origin Location"}),(0,s.jsx)(p.Input,{className:"mt-2 bg-white text-slate-800 placeholder:text-slate-400",placeholder:"e.g. Lagos Logistics Center",value:ey,onChange:e=>ew(e.target.value)})]})]}),(0,s.jsxs)(v.DialogFooter,{children:[(0,s.jsx)(v.DialogClose,{asChild:!0,children:(0,s.jsx)(h.Button,{variant:"outline",className:"border-slate-200",children:"Cancel"})}),(0,s.jsxs)(h.Button,{onClick:()=>{W&&ey&&$(async()=>{let e=await i(W.id,{status:"in-transit",current_location:ey});e.error?b.toast.error(e.error):(await r(W.id,{status:"in-transit",location:ey,note:"Shipment dispatched from origin facility"},!0),b.toast.success("Shipment dispatched successfully"),ef(!1),eO())})},disabled:O||!ey,className:"bg-primary hover:bg-primary/90 text-white rounded-full",children:[O?(0,s.jsx)(T.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Dispatch Now"]})]})]})}),(0,s.jsx)(v.Dialog,{open:eC,onOpenChange:e_,children:(0,s.jsxs)(v.DialogContent,{className:"glass border-0 shadow-2xl",children:[(0,s.jsxs)(v.DialogHeader,{children:[(0,s.jsxs)(v.DialogTitle,{className:"text-secondary flex items-center gap-2",children:[(0,s.jsx)(C.DollarSign,{className:"text-green-600"}),"Confirm Payment"]}),(0,s.jsxs)(v.DialogDescription,{className:"text-slate-300",children:["Verify payment for shipment ",W?.tracking_number]})]}),(0,s.jsxs)("div",{className:"py-6 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-100",children:[(0,s.jsx)("span",{className:"text-slate-500",children:"Amount Due"}),(0,s.jsxs)("span",{className:"text-2xl font-bold text-secondary",children:["$",W?.price?.toFixed(2)]})]}),(0,s.jsxs)("p",{className:"text-slate-500 text-sm",children:["By confirming, the shipment status will move to ",(0,s.jsx)("strong",{children:"Confirmed"})," and become ready for dispatch."]})]}),(0,s.jsxs)(v.DialogFooter,{children:[(0,s.jsx)(v.DialogClose,{asChild:!0,children:(0,s.jsx)(h.Button,{variant:"outline",className:"border-slate-200",children:"Cancel"})}),(0,s.jsxs)(h.Button,{onClick:()=>{W&&$(async()=>{let e=await i(W.id,{payment_status:"paid",status:"confirmed"});e.error?b.toast.error(e.error):(b.toast.success("Payment confirmed! Ready for dispatch."),e_(!1),eO())})},disabled:O,className:"bg-green-600 hover:bg-green-700 text-white rounded-full",children:[O?(0,s.jsx)(T.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Confirm Received"]})]})]})}),(0,s.jsx)(v.Dialog,{open:eo,onOpenChange:em,children:(0,s.jsxs)(v.DialogContent,{className:"glass border-0 shadow-2xl",children:[(0,s.jsxs)(v.DialogHeader,{children:[(0,s.jsx)(v.DialogTitle,{className:"text-secondary",children:"Update Location"}),(0,s.jsxs)(v.DialogDescription,{className:"text-slate-300",children:["Update the current location for ",W?.tracking_number]})]}),(0,s.jsxs)("div",{className:"py-4",children:[(0,s.jsx)(u.Label,{className:"text-white font-medium",children:"Current Location"}),(0,s.jsx)(p.Input,{className:"mt-2 bg-white text-slate-800 placeholder:text-slate-400",placeholder:"e.g. Abuja Sorting Facility",value:ex,onChange:e=>eh(e.target.value)})]}),(0,s.jsxs)(v.DialogFooter,{children:[(0,s.jsx)(v.DialogClose,{asChild:!0,children:(0,s.jsx)(h.Button,{variant:"outline",className:"border-slate-200",children:"Cancel"})}),(0,s.jsxs)(h.Button,{onClick:()=>{W&&ex&&$(async()=>{let e=await i(W.id,{current_location:ex});e.error?b.toast.error(e.error):(b.toast.success("Location updated"),em(!1),eh(""),eO())})},disabled:O||!ex,className:"bg-primary hover:bg-primary/90 text-white rounded-full",children:[O?(0,s.jsx)(T.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Update"]})]})]})}),(0,s.jsx)(v.Dialog,{open:ep,onOpenChange:eu,children:(0,s.jsxs)(v.DialogContent,{className:"glass border-0 shadow-2xl",children:[(0,s.jsxs)(v.DialogHeader,{children:[(0,s.jsx)(v.DialogTitle,{className:"text-secondary",children:"Review Shipment"}),(0,s.jsx)(v.DialogDescription,{className:"text-slate-300",children:"Set the price and approve this shipment request."})]}),(0,s.jsxs)("div",{className:"py-4",children:[(0,s.jsx)(u.Label,{className:"text-white font-medium",children:"Shipping Cost ($)"}),(0,s.jsx)(p.Input,{type:"number",className:"mt-2 bg-white text-slate-800 placeholder:text-slate-400",placeholder:"e.g. 50.00",value:eg,onChange:e=>ej(e.target.value)})]}),(0,s.jsxs)(v.DialogFooter,{children:[(0,s.jsx)(v.DialogClose,{asChild:!0,children:(0,s.jsx)(h.Button,{variant:"outline",className:"border-slate-200",children:"Cancel"})}),(0,s.jsxs)(h.Button,{onClick:()=>{eN&&eg&&$(async()=>{let e=await i(eN,{status:"quoted",payment_status:"unpaid",price:parseFloat(eg)});e.error?b.toast.error(e.error):(b.toast.success("Quote sent! Awaiting customer payment."),eu(!1),ej(""),ev(null),eO())})},disabled:O||!eg,className:"bg-primary hover:bg-primary/90 text-white rounded-full",children:[O?(0,s.jsx)(T.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Approve & Set Price"]})]})]})}),(0,s.jsx)(v.Dialog,{open:eS,onOpenChange:eD,children:(0,s.jsxs)(v.DialogContent,{className:"glass border-0 shadow-2xl max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(v.DialogHeader,{children:[(0,s.jsxs)(v.DialogTitle,{className:"text-secondary flex items-center gap-2",children:[(0,s.jsx)(A.Package,{className:"h-5 w-5"}),"Shipment Details"]}),(0,s.jsxs)(v.DialogDescription,{className:"text-slate-300",children:["Tracking ID: ",(0,s.jsx)("span",{className:"font-mono font-bold text-primary",children:ek?.tracking_number})]})]}),ek&&(0,s.jsxs)("div",{className:"space-y-6 py-4",children:[(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("div",{className:"flex-1 p-4 bg-slate-50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-xs text-slate-700 uppercase font-semibold",children:"Status"}),(0,s.jsx)(j.Badge,{variant:"outline",className:`mt-1 uppercase font-medium ${eG(ek.status)}`,children:ek.status})]}),(0,s.jsxs)("div",{className:"flex-1 p-4 bg-slate-50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-xs text-slate-700 uppercase font-semibold",children:"Payment"}),(0,s.jsx)(j.Badge,{className:`mt-1 ${"paid"===ek.payment_status?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:ek.payment_status})]}),(0,s.jsxs)("div",{className:"flex-1 p-4 bg-slate-50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-xs text-slate-700 uppercase font-semibold",children:"Price"}),(0,s.jsxs)("p",{className:"mt-1 font-bold text-lg text-slate-900",children:["$",ek.price?.toFixed(2)||"—"]})]})]}),(0,s.jsxs)("div",{className:"p-4 border border-slate-200 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("h4",{className:"font-semibold text-secondary flex items-center gap-2",children:[(0,s.jsx)(R.User,{size:16})," Sender Information"]}),!eT&&(0,s.jsxs)(h.Button,{variant:"ghost",size:"sm",className:"text-primary",onClick:()=>{let e=ek.sender_info?.email;e&&(window.location.href=`mailto:${e}`)},children:[(0,s.jsx)(z.Mail,{size:14,className:"mr-1"})," Email"]})]}),eT?(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsx)(p.Input,{placeholder:"Name",value:eB.sender_info?.name||"",onChange:e=>eI({...eB,sender_info:{...eB.sender_info,name:e.target.value}})}),(0,s.jsx)(p.Input,{placeholder:"Email",value:eB.sender_info?.email||"",onChange:e=>eI({...eB,sender_info:{...eB.sender_info,email:e.target.value}})}),(0,s.jsx)(p.Input,{className:"col-span-2",placeholder:"Address",value:eB.sender_info?.address||"",onChange:e=>eI({...eB,sender_info:{...eB.sender_info,address:e.target.value}})})]}):(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-slate-400",children:"Name"}),(0,s.jsx)("p",{className:"font-medium",children:ek.sender_info?.name||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-slate-400",children:"Email"}),(0,s.jsx)("p",{className:"font-medium",children:ek.sender_info?.email||"N/A"})]}),(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)("p",{className:"text-slate-400",children:"Address"}),(0,s.jsx)("p",{className:"font-medium",children:ek.sender_info?.address||"N/A"})]})]})]}),(0,s.jsxs)("div",{className:"p-4 border border-slate-200 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("h4",{className:"font-semibold text-secondary flex items-center gap-2",children:[(0,s.jsx)(R.User,{size:16})," Receiver Information"]}),!eT&&(0,s.jsxs)(h.Button,{variant:"ghost",size:"sm",className:"text-primary",onClick:()=>{let e=ek.receiver_info?.email;e&&(window.location.href=`mailto:${e}`)},children:[(0,s.jsx)(z.Mail,{size:14,className:"mr-1"})," Email"]})]}),eT?(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsx)(p.Input,{placeholder:"Name",value:eB.receiver_info?.name||"",onChange:e=>eI({...eB,receiver_info:{...eB.receiver_info,name:e.target.value}})}),(0,s.jsx)(p.Input,{placeholder:"Email",value:eB.receiver_info?.email||"",onChange:e=>eI({...eB,receiver_info:{...eB.receiver_info,email:e.target.value}})}),(0,s.jsx)(p.Input,{className:"col-span-2",placeholder:"Address",value:eB.receiver_info?.address||"",onChange:e=>eI({...eB,receiver_info:{...eB.receiver_info,address:e.target.value}})})]}):(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-slate-400",children:"Name"}),(0,s.jsx)("p",{className:"font-medium",children:ek.receiver_info?.name||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-slate-400",children:"Email"}),(0,s.jsx)("p",{className:"font-medium",children:ek.receiver_info?.email||"N/A"})]}),(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)("p",{className:"text-slate-400",children:"Address"}),(0,s.jsx)("p",{className:"font-medium",children:ek.receiver_info?.address||"N/A"})]})]})]}),(0,s.jsxs)("div",{className:"p-4 border border-slate-200 rounded-lg",children:[(0,s.jsxs)("h4",{className:"font-semibold text-secondary flex items-center gap-2 mb-3",children:[(0,s.jsx)(A.Package,{size:16})," Parcel Details"]}),eT?(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsx)(p.Input,{placeholder:"Description",value:eB.parcel_details?.description||"",onChange:e=>eI({...eB,parcel_details:{...eB.parcel_details,description:e.target.value}}),className:"col-span-2"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-slate-400 mb-1",children:"Weight (kg)"}),(0,s.jsx)(p.Input,{type:"number",value:eB.parcel_details?.weight||"",onChange:e=>eI({...eB,parcel_details:{...eB.parcel_details,weight:e.target.value}})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-slate-400 mb-1",children:"Dimensions (L/W/H)"}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(p.Input,{placeholder:"L",className:"h-9 px-1 text-center",value:eB.parcel_details?.dimensions?.length||"",onChange:e=>eI({...eB,parcel_details:{...eB.parcel_details,dimensions:{...eB.parcel_details?.dimensions,length:e.target.value}}})}),(0,s.jsx)(p.Input,{placeholder:"W",className:"h-9 px-1 text-center",value:eB.parcel_details?.dimensions?.width||"",onChange:e=>eI({...eB,parcel_details:{...eB.parcel_details,dimensions:{...eB.parcel_details?.dimensions,width:e.target.value}}})}),(0,s.jsx)(p.Input,{placeholder:"H",className:"h-9 px-1 text-center",value:eB.parcel_details?.dimensions?.height||"",onChange:e=>eI({...eB,parcel_details:{...eB.parcel_details,dimensions:{...eB.parcel_details?.dimensions,height:e.target.value}}})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-slate-400 mb-1",children:"Created Date"}),(0,s.jsx)(p.Input,{type:"datetime-local",value:eB.created_at?new Date(eB.created_at).toISOString().slice(0,16):"",onChange:e=>{let s=new Date(e.target.value);eI({...eB,created_at:s.toISOString()})}})]})]}):(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-slate-400",children:"Description"}),(0,s.jsx)("p",{className:"font-medium",children:ek.parcel_details?.description||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-slate-400",children:"Weight"}),(0,s.jsxs)("p",{className:"font-medium",children:[ek.parcel_details?.weight||"N/A"," kg"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-slate-400",children:"Current Location"}),(0,s.jsx)("p",{className:"font-medium",children:ek.current_location||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-slate-400",children:"Created"}),(0,s.jsx)("p",{className:"font-medium",children:ek.created_at?new Date(ek.created_at).toLocaleString():"N/A"})]})]})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 pt-4 border-t",children:eT?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.Button,{variant:"default",size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",disabled:O,onClick:()=>{$(async()=>{try{(await i(ek.id,eB)).success?(b.toast.success("Shipment updated"),eL({...ek,...eB}),eA(!1),await eO()):b.toast.error("Update failed")}catch(e){b.toast.error("An error occurred")}})},children:"Save Changes"}),(0,s.jsx)(h.Button,{variant:"ghost",size:"sm",onClick:()=>eA(!1),children:"Cancel"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(h.Button,{variant:"outline",size:"sm",onClick:()=>window.open(`/track/${ek.tracking_number}`,"_blank"),children:[(0,s.jsx)(U.Eye,{size:14,className:"mr-1"})," View Tracking"]}),(0,s.jsxs)(h.Button,{variant:"outline",size:"sm",onClick:()=>{eD(!1),J(ek),X(ek.status||"pending"),Z(ek.current_location||""),Q(!0)},children:[(0,s.jsx)(k,{size:14,className:"mr-1"})," Update Status"]}),(0,s.jsx)(h.Button,{variant:"default",size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>{eA(!0),eI({sender_info:ek.sender_info,receiver_info:ek.receiver_info,parcel_details:ek.parcel_details,created_at:ek.created_at})},children:"Edit"}),(0,s.jsxs)(h.Button,{variant:"destructive",size:"sm",onClick:async()=>{confirm("Are you sure you want to delete this shipment? This action cannot be undone.")&&(await n(ek.id),eD(!1),eO(),b.toast.success("Shipment deleted"))},children:[(0,s.jsx)(M,{size:14,className:"mr-1"})," Delete"]})]})})]})]})}),(0,s.jsx)(v.Dialog,{open:eH,onOpenChange:eP,children:(0,s.jsxs)(v.DialogContent,{className:"max-w-md",children:[(0,s.jsxs)(v.DialogHeader,{children:[(0,s.jsxs)(v.DialogTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(R.User,{className:"text-primary"}),"Create New User"]}),(0,s.jsx)(v.DialogDescription,{children:"Create a new account. They will receive a confirmation email."})]}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.Label,{children:"Full Name"}),(0,s.jsx)(p.Input,{value:eE.fullName,onChange:e=>eF(s=>({...s,fullName:e.target.value})),placeholder:"John Doe"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.Label,{children:"Email"}),(0,s.jsx)(p.Input,{type:"email",value:eE.email,onChange:e=>eF(s=>({...s,email:e.target.value})),placeholder:"john@example.com"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.Label,{children:"Password"}),(0,s.jsx)(p.Input,{type:"password",value:eE.password,onChange:e=>eF(s=>({...s,password:e.target.value})),placeholder:"••••••••"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.Label,{children:"Role"}),(0,s.jsxs)("select",{className:"w-full h-10 rounded-md border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",value:eE.role,onChange:e=>eF(s=>({...s,role:e.target.value})),children:[(0,s.jsx)("option",{value:"user",children:"User"}),(0,s.jsx)("option",{value:"admin",children:"Admin"})]})]})]}),(0,s.jsxs)(v.DialogFooter,{children:[(0,s.jsx)(v.DialogClose,{asChild:!0,children:(0,s.jsx)(h.Button,{variant:"outline",children:"Cancel"})}),(0,s.jsxs)(h.Button,{onClick:()=>{$(async()=>{let e=await o(eE);e.error?b.toast.error(e.error):(b.toast.success("User created successfully"),eP(!1),eF({email:"",password:"",fullName:"",role:"user"}),e.warning&&b.toast.warning(e.warning),e$())})},disabled:O||!eE.email||!eE.password,children:[O?(0,s.jsx)(T.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsx)(S.Plus,{className:"mr-2 h-4 w-4"}),"Create User"]})]})]})})]})]})}e.s(["default",()=>F],72906)}]);